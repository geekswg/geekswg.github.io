{"version":3,"sources":["jquery.nicescroll.js"],"names":["factory","define","amd","module","_typeof","exports","root","jQuery","undefined","window","require","domfocus","mousefocus","tabindexcounter","ascrailcounter","globalmaxzindex","$","_doc","document","_win","$window","delegatevents","NiceScrollClass","myopt","me","writingMode","self","this","$body","major","version","versionfull","name","modern","opt","doc","win","extend","_globaloptions","snapbackspeed","a","disablemutationobserver","_readOnlyError","iddoc","id","ispage","test","nodeName","haswrapper","docscroll","body","viewport","hasnativescroll","isfixed","iframe","isiframe","istextarea","forcescreen","canshowonmouseevent","autohidemode","onmousedown","onmouseup","onmousemove","onmousewheel","onkeypress","ongesturezoom","onclick","onscrollstart","onscrollend","onscrollcancel","onzoomin","onzoomout","view","page","scroll","x","y","scrollratio","cursorheight","scrollvaluemax","rtlmode","target","css","isrtlmode","isvertical","scrollrunning","scrollmom","observer","observerremover","observerbody","scrollbarid","getElementById","BezierClass","st","ed","spd","p1","p2","p3","p4","ts","now","df","rail","cursor","cursorfreezed","selectiondrag","zoom","zoomactive","hasfocus","hasmousefocus","railslocked","locked","hidden","cursoractive","wheelprevented","overflowx","overflowy","nativescrollingarea","checkarea","events","saved","delaylist","synclist","lastdeltax","lastdeltay","detected","browserdetected","_el","createElement","_style","style","_agent","navigator","userAgent","d","haspointerlock","isopera","isopera12","isoperamini","Object","prototype","toString","call","operamini","isie","isieold","isie7","documentMode","isie8","isie9","isie10","isie11","ismsedge","ismozilla","iswebkit","ischrome","ischrome38","ischrome22","ischrome26","cantouch","documentElement","hasw3ctouch","PointerEvent","maxTouchPoints","msMaxTouchPoints","hasmstouch","MSPointerEvent","ismac","isios","isios4","isios7","isios8","isios10","Proxy","isandroid","haseventlistener","trstyle","hastransform","hastranslate3d","transitionstyle","hastransition","transitionend","prefixstyle","cursorgrabvalue","hasmousecapture","hasMutationObserver","ClsMutationObserver","hasfadingscrollbar","detectFadingScrollbar","getBrowserDetection","cxscrollleft","cap","getMatrixValues","tr","substr","replace","split","canhwscroll","hwacceleration","ishwscroll","hasreversehr","istouchcapable","enablemouselockapi","debounced","fn","tm","h","setAnimationFrame","synched","unsynched","el","pars","n","push","scrollTop","val","getScrollTop","setScrollTop","scrollLeft","getScrollLeft","setScrollLeft","B2","t","B3","B4","getPos","getNow","pc","bz","update","translate","tx","ty","last","mtx","length","timerscroll","bh","notifyScrollEvent","e","createEvent","initUIEvent","niceevent","dispatchEvent","enabletranslate3d","silent","maxw","Math","abs","setTimeout","getTarget","srcElement","hasParent","parentNode","_convertBorderWidth","thin","medium","thick","getWidthToPixel","dom","prop","chkheight","wd","px","parseFloat","isNaN","brd","outerHeight","innerHeight","outerWidth","innerWidth","getDocumentScrollOffset","top","pageYOffset","left","pageXOffset","getOffset","ofs","offset","scrl","ww","vp","updateScrollBar","len","off","pos","height","railpadding","bottom","railh","width","right","wpos","align","railoffset","railhoffset","doRailClick","dbl","hr","cur","cancelEvent","pageX","clientX","pageY","clientY","doScrollLeft","doScrollTop","cursorwidth","doScrollLeftBy","doScrollBy","pg","w","_currentPointerCaptured","setPointerCapture","unsetPointerCapture","pointerId","releasePointerCapture","newscrolly","newscrollx","hasanimationframe","hascancelanimationframe","hasborderbox","init","emulatetouch","touchbehavior","getComputedStyle","oniframeload","_scrollyhidden","scrollbar-width","_chromeInit","innerHTML","head","appendChild","addClass","overflow-y","bind","onScrollTransitionEnd","zindex","zIndex","nodeType","zi","parseInt","parent","getZIndex","cont","position","float","background-color","cursorcolor","border","cursorborder","background-clip","border-radius","cursorborderradius","attr","scrollCLass","v","kp","append","max","background","visibility","scrollable","railalign","moveneedoffset","locktollerance","checkSelectionScroll","tmp","_dom","drag","boxzoom","doZoom","cursoropacitymax","cursoropacitymin","backgroundImage","scriptpath","backgroundPosition","dblclickzoom","gesturezoom","scale","doZoomIn","doZoomOut","horizrailenabled","overflowX","backgroundColor","backgroundClip","cursorh","railvalign","bd","margin-right","rlpos","getViewport","disableoutline","-webkit-tap-highlight-color","-webkit-touch-callout","autohidedom","opacity","add","hide","ScrollMomentumClass2D","ontouchstart","pointerType","MSPOINTER_TYPE_MOUSE","hasmoving","timer","triggerScrollEnd","stop","tg","type","stopPropagation","maxh","wp","ismouse","changedTouches","original","le","screenX","screenY","sx","sy","sl","pt","dl","directionlockdeadzone","getContentSize","ck","lastmouseup","reset","_onclick","preventclick","click","ontouchend","doMomentum","hideCursor","ontouchmove","byiframe","targetTouches","preventmultitouchscrolling","ofx","ofy","fy","my","fx","mx","ny","bouncescroll","round","nx","ay","ax","dz","triggerScrollStart","onpreventclick","prepareTransition","resetTransition","showCursor","selection","clear","ontouchstartCursor","hronly","cancelScroll","touches","csspointerevents","pointer-events","ontouchendCursor","ontouchmoveCursor","mw","scrollvaluemaxw","cursordragspeed","which","grabcursorenabled","rt","hasTextSelected","getSelection","rangeCount","onselectionstart","onselectionend","onselectiondrag","touch-action","delegate","-ms-touch-action","preventDefault","cursordragontouch","jqbind","is","active","sensitiverail","enablescrollonselection","enablemousewheel","mousewheel","onmousewheelhr","tabindex","noticeCursor","event","getAttribute","tp","key","keyCode","ctrl","ctrlKey","shift","shiftKey","ret","doScrollPos","doScrollTo","spacebarenabled","enablekeyboard","onscreenresize","lazyResize","onAttributeChange","enableobserver","mutations","forEach","mut","hasClass","contains","show","clientWidth","clientHeight","observe","childList","subtree","characterData","attributes","attributeFilter","mo","removedNodes","dd","remove","attachEvent","resizeZoom","hh","iframexd","contentDocument","contentWindow","domain","console","log","html","contents","find","scrollWidth","scrollHeight","iframeautoresize","getElementsByTagName","-webkit-transform","onscroll","readyState","py","cursortimeout","clearTimeout","lx","showonmouseevent","animate","hidecursordelay","offsetWidth","offsetHeight","onResize","premaxh","premaxw","previewh","previeww","lastposition","lst","hideRail","hideRailHr","showRail","showRailHr","min","cursorfixedheight","cursorminheight","resize","hlazyresize","passiveSupported","hiderails","hideRails","showRails","f","q","on","bubble","_bind","options","defineProperty","get","addEventListener","err","cancelable","stopImmediatePropagation","preventManipulation","Event","returnValue","cancelBubble","constructor","Element","listener","useCapture","removeEventListener","detachEvent","cancel","de","b","l","r","concat","undelegate","splice","_unbind","passive","capture","bub","unbindAll","unbind","toggle","clearAnimationFrame","disconnect","data","i","nicescroll","each","scrollstart","scrollend","scrollcancel","zoomin","zoomout","isScrollable","ov","getNiceScroll","cx","cy","rx","ry","ms","info","current","request","end","speed","scrolldiry","scrolldirx","scrolltmr","scrollspd","doScrollRelative","chkscroll","iswheel","gap","dx","nativeparentscrolling","dy","dty","dtx","lasttransitionstyle","hasparentscrollingphase","execScrollWheel","deltaMode","deltaX","mousescrollstep","deltaY","oneaxismousemode","nw","chk","preservenativescrolling","scrollmon","getTransitionSpeed","dif","scrollspeed","smoothscroll","usetransition","istime","ex","trans","cursorupdate","running","start","m","loop","lft","dst","sqrt","scrollendtrapped","clearInterval","clipped","bzscroll","stp","relative","checkContentSize","zoomrestore","pp","padding","margin","bkg","z-index","nc","lastx","lasty","speedx","speedy","lasttime","steptime","snapx","snapy","demulx","demuly","lastscrollx","lastscrolly","chkx","chky","newy","newx","doSnapy","snap","gp","pageh","pagew","xm","demulxy","floor","NiceScrollArray","doms","nice","eq","idx","scripts","path","requestAnimationFrame","cancelAnimationFrame","MutationObserver","Date","matchMedia","currentScript","s","src","slice","join","_div","removeChild","_scrollTop","_scrollLeft","cssHooks","elem","computed","extra","set","value","mplex","args","arguments","apply","index","expr","pseudos","niceScroll","wrapper","_opt","$this","wrp","NiceScroll","getjQuery"],"mappings":"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","file":"jquery.nicescroll.min.js","sourcesContent":["/**\r\n-- jquery.nicescroll\r\n-- version 4.0.0 for modern browsers\r\n-- 2022-02-23 \r\n-- Created by InuYaksa*2017+22\r\n-- licensed under the MIT\r\n--\r\n-- https://nicescroll.areaaperta.com/\r\n-- https://github.com/inuyaksa/jquery.nicescroll\r\n--\r\n**/\r\n\r\n/* jshint expr: true */\r\n\r\n//https://github.com/umdjs/umd/blob/master/templates/jqueryPlugin.js\r\n\r\n(function (factory) {\r\n  if (typeof define === 'function' && define.amd) {\r\n      // AMD. Register as an anonymous module.\r\n      define(['jquery'], factory);\r\n  } else if (typeof module === 'object' && module.exports) {\r\n      // Node/CommonJS\r\n      module.exports = function( root, jQuery ) {\r\n          if ( jQuery === undefined ) {\r\n              // require('jQuery') returns a factory that requires window to\r\n              // build a jQuery instance, we normalize how we use modules\r\n              // that require this pattern but the window provided is a noop\r\n              // if it's defined (how jquery works)\r\n              if ( typeof window !== 'undefined' ) {\r\n                  jQuery = require('jquery');\r\n              }\r\n              else {\r\n                  jQuery = require('jquery')(root);\r\n              }\r\n          }\r\n          factory(jQuery);\r\n          return jQuery;\r\n      };\r\n  } else {\r\n      // Browser globals\r\n      factory(jQuery);\r\n  }\r\n}(function (jQuery) {\r\n\r\n  'use strict';\r\n\r\n  // globals\r\n  var domfocus = false,\r\n    mousefocus = false,\r\n    tabindexcounter = 0,\r\n    ascrailcounter = 2000,\r\n    globalmaxzindex = 0;\r\n\r\n  var $ = jQuery,       // sandbox\r\n    _doc = document,\r\n    _win = window,\r\n    $window = $(_win);\r\n\r\n  var delegatevents = [];\r\n\r\n  // http://stackoverflow.com/questions/2161159/get-script-path\r\n  function getScriptPath() {\r\n    var scripts = _doc.currentScript || (function () { var s = _doc.getElementsByTagName('script'); return (s.length) ? s[s.length - 1] : false; })();\r\n    var path = scripts ? scripts.src.split('?')[0] : '';\r\n    return (path.split('/').length > 0) ? path.split('/').slice(0, -1).join('/') + '/' : '';\r\n  }\r\n\r\n  const setAnimationFrame = _win.requestAnimationFrame;\r\n  const clearAnimationFrame = _win.cancelAnimationFrame;\r\n  const ClsMutationObserver = _win.MutationObserver;\r\n  const now = Date.now;\r\n\r\n  const mediamotionreduce = window.matchMedia(\"(prefers-reduced-motion: reduce)\");  //  #816\r\n\r\n  var _globaloptions = {\r\n    zindex: \"auto\",\r\n    cursoropacitymin: 0,\r\n    cursoropacitymax: 1,\r\n    cursorcolor: \"#424242\",\r\n    cursorwidth: \"6px\",\r\n    cursorborder: \"1px solid #fff\",\r\n    cursorborderradius: \"5px\",\r\n    scrollspeed: 40,\r\n    mousescrollstep: 9 * 3,\r\n    emulatetouch: false,    // replacing touchbehavior\r\n    hwacceleration: true,\r\n    usetransition: true,\r\n    boxzoom: false,\r\n    dblclickzoom: true,\r\n    gesturezoom: true,\r\n    grabcursorenabled: true,\r\n    autohidemode: true,\r\n    background: \"\",\r\n    iframeautoresize: true,\r\n    cursorminheight: 32,\r\n    preservenativescrolling: true,\r\n    railoffset: false,\r\n    railhoffset: false,\r\n    bouncescroll: true,\r\n    spacebarenabled: true,\r\n    railpadding: {\r\n      top: 0,\r\n      right: 0,\r\n      left: 0,\r\n      bottom: 0\r\n    },\r\n    disableoutline: true,\r\n    horizrailenabled: true,\r\n    railalign: \"right\",\r\n    railvalign: \"bottom\",\r\n    enabletranslate3d: true,\r\n    enablemousewheel: true,\r\n    enablekeyboard: true,\r\n    smoothscroll: true,\r\n    sensitiverail: true,\r\n    enablemouselockapi: true,\r\n    //      cursormaxheight:false,\r\n    cursorfixedheight: false,\r\n    directionlockdeadzone: 6,\r\n    hidecursordelay: 400,\r\n    nativeparentscrolling: true,\r\n    enablescrollonselection: true,\r\n    overflowx: true,\r\n    overflowy: true,\r\n    cursordragspeed: 0.3,\r\n    rtlmode: \"auto\",\r\n    cursordragontouch: false,\r\n    oneaxismousemode: \"auto\",\r\n    scriptpath: getScriptPath(),\r\n    preventmultitouchscrolling: true,\r\n    disablemutationobserver: false,\r\n    enableobserver: true,\r\n    scrollbarid: false,\r\n    scrollCLass: false\r\n  };\r\n\r\n  const detectFadingScrollbar = function() {\r\n    var _div = _doc.createElement(\"div\");\r\n    _div.style=\"position:absolute; top:0; opacity:0; width:20px; height:1px; overflow-y:scroll;\";\r\n    _doc.body.appendChild(_div);    \r\n    var px = _div.clientWidth;\r\n    _div.style=\"position:absolute; top:0; opacity:0; width:20px; height:1px; overflow-y:hidden;\";\r\n    var chk = (px == _div.clientWidth);\r\n    _doc.body.removeChild(_div);\r\n    return chk;\r\n  }\r\n\r\n  var browserdetected = false;\r\n\r\n  var getBrowserDetection = function () {\r\n\r\n    if (browserdetected) return browserdetected;\r\n\r\n    var _el = _doc.createElement('DIV'),\r\n      _style = _el.style,\r\n      _agent = navigator.userAgent,\r\n      _platform = '', // TODO deprecated\r\n      d = {};\r\n\r\n    d.haspointerlock = \"pointerLockElement\" in _doc || \"webkitPointerLockElement\" in _doc || \"mozPointerLockElement\" in _doc;\r\n\r\n    d.isopera = (\"opera\" in _win); // 12-\r\n    d.isopera12 = (d.isopera && (\"getUserMedia\" in navigator));\r\n    d.isoperamini = (Object.prototype.toString.call(_win.operamini) === \"[object OperaMini]\");\r\n\r\n    d.isie = ((\"all\" in _doc) && (\"attachEvent\" in _el) && !d.isopera); //IE10-\r\n    d.isieold = (d.isie && !(\"msInterpolationMode\" in _style)); // IE6 and older\r\n    d.isie7 = d.isie && !d.isieold && (!(\"documentMode\" in _doc) || (_doc.documentMode === 7));\r\n    d.isie8 = d.isie && (\"documentMode\" in _doc) && (_doc.documentMode === 8);\r\n    d.isie9 = d.isie && (\"performance\" in _win) && (_doc.documentMode === 9);\r\n    d.isie10 = d.isie && (\"performance\" in _win) && (_doc.documentMode === 10);\r\n    d.isie11 = (\"msRequestFullscreen\" in _el) && (_doc.documentMode >= 11); // IE11+\r\n\r\n    d.ismsedge = (\"msCredentials\" in _win);  // MS Edge 14+\r\n\r\n    d.ismozilla = (\"mozFullScreen\" in _doc);\r\n\r\n    d.iswebkit = !d.ismsedge && (\"WebkitAppearance\" in _style);\r\n\r\n    d.ischrome = d.iswebkit && (\"chrome\" in _win);\r\n    d.ischrome38 = (d.ischrome && (\"touchAction\" in _style)); // behavior changed in touch emulation    \r\n    d.ischrome22 = (!d.ischrome38) && (d.ischrome && d.haspointerlock);\r\n    d.ischrome26 = (!d.ischrome38) && (d.ischrome && (\"transition\" in _style)); // issue with transform detection (maintain prefix)\r\n\r\n    d.cantouch = (\"ontouchstart\" in _doc.documentElement) || (\"ontouchstart\" in _win); // with detection for Chrome Touch Emulation    \r\n    d.hasw3ctouch = (_win.PointerEvent || false) && ((navigator.maxTouchPoints > 0) || (navigator.msMaxTouchPoints > 0)); //IE11 pointer events, following W3C Pointer Events spec\r\n    d.hasmstouch = (!d.hasw3ctouch) && (_win.MSPointerEvent || false); // IE10 pointer events\r\n\r\n    d.ismac = /Mac.+$/.test(_platform);  // inspired by issue from @arealdeadone: Added Additional Check for Mac #764\r\n\r\n    d.isios = d.cantouch && /iphone|ipad|ipod/i.test(_platform);\r\n    d.isios4 = d.isios && !(\"seal\" in Object);\r\n    d.isios7 = d.isios && (\"webkitHidden\" in _doc);  //iOS 7+\r\n    d.isios8 = d.isios && (\"hidden\" in _doc);  //iOS 8+\r\n    d.isios10 = d.isios && _win.Proxy;  //iOS 10+\r\n\r\n    d.isandroid = (/android/i.test(_agent));\r\n\r\n    d.haseventlistener = (\"addEventListener\" in _el);\r\n\r\n    d.trstyle = false;\r\n    d.hastransform = false;\r\n    d.hastranslate3d = false;\r\n    d.transitionstyle = false;\r\n    d.hastransition = false;\r\n    d.transitionend = false;\r\n\r\n    d.trstyle = \"transform\";\r\n    d.hastransform = (\"transform\" in _style);\r\n    d.hastranslate3d = true;\r\n\r\n    d.transitionstyle = \"transition\";\r\n    d.prefixstyle = '';\r\n    d.transitionend = \"transitionend\";\r\n\r\n    d.hastransition = (\"transition\" in _style);\r\n\r\n    d.cursorgrabvalue = \"grab\";\r\n\r\n    d.hasmousecapture = (\"setPointerCapture\" in _el);\r\n\r\n    d.hasMutationObserver = (ClsMutationObserver !== false);\r\n\r\n    d.hasfadingscrollbar = detectFadingScrollbar();\r\n\r\n    _el = null; //memory released\r\n\r\n    browserdetected = d;\r\n\r\n    return d;\r\n  };\r\n\r\n  var _chromeInit = false;\r\n  const setupChrome = function() {\r\n    if (_chromeInit) return;\r\n    _chromeInit = true;\r\n    var _style = _doc.createElement('style');\r\n    _style.innerHTML = \".nicescroll-webkit-nativescrollbarhide::-webkit-scrollbar { width: 0 !important; } \";\r\n    _doc.head.appendChild(_style);  \r\n  };\r\n\r\n\r\n  var NiceScrollClass = function (myopt, me) {\r\n\r\n    var self = this;\r\n\r\n    this.major = 4;\r\n    this.version = '4.0.0';\r\n    this.versionfull = '4.0.0 modern';\r\n    this.name = 'nicescroll';\r\n    this.modern = 1;\r\n\r\n    this.me = me;\r\n\r\n    var $body = $(\"body\");\r\n\r\n    var opt = this.opt = {\r\n      doc: $body,\r\n      win: false\r\n    };\r\n\r\n    $.extend(opt, _globaloptions);  // clone opts\r\n\r\n    // Options for internal use\r\n    opt.snapbackspeed = 80;\r\n\r\n    if (myopt || false) {\r\n      for (var a in opt) {\r\n        if (myopt[a] !== undefined) opt[a] = myopt[a];\r\n      }\r\n    }\r\n\r\n    if (opt.disablemutationobserver) ClsMutationObserver = false;\r\n\r\n    this.doc = opt.doc;\r\n    this.iddoc = (this.doc && this.doc[0]) ? this.doc[0].id || '' : '';\r\n    this.ispage = /^BODY|HTML/.test((opt.win) ? opt.win[0].nodeName : this.doc[0].nodeName);\r\n    this.haswrapper = (opt.win !== false);\r\n    this.win = opt.win || (this.ispage ? $window : this.doc);\r\n    this.docscroll = (this.ispage && !this.haswrapper) ? $window : this.win;\r\n    this.body = $body;\r\n    this.viewport = false;\r\n\r\n    this.hasnativescroll = true;\r\n\r\n    this.isfixed = false;\r\n\r\n    this.iframe = false;\r\n    this.isiframe = ((this.doc[0].nodeName == 'IFRAME') && (this.win[0].nodeName == 'IFRAME'));\r\n\r\n    this.istextarea = (this.win[0].nodeName == 'TEXTAREA');\r\n\r\n    this.forcescreen = false; //force to use screen position on events\r\n\r\n    this.canshowonmouseevent = (opt.autohidemode != \"scroll\");\r\n\r\n    // Events jump table    \r\n    this.onmousedown = false;\r\n    this.onmouseup = false;\r\n    this.onmousemove = false;\r\n    this.onmousewheel = false;\r\n    this.onkeypress = false;\r\n    this.ongesturezoom = false;\r\n    this.onclick = false;\r\n\r\n    // Nicescroll custom events\r\n    this.onscrollstart = false;\r\n    this.onscrollend = false;\r\n    this.onscrollcancel = false;\r\n\r\n    this.onzoomin = false;\r\n    this.onzoomout = false;\r\n\r\n    // Let's start!  \r\n    this.view = false;\r\n    this.page = false;\r\n\r\n    this.scroll = {\r\n      x: 0,\r\n      y: 0\r\n    };\r\n    this.scrollratio = {\r\n      x: 0,\r\n      y: 0\r\n    };\r\n    this.cursorheight = 20;\r\n    this.scrollvaluemax = 0;\r\n\r\n    // http://dev.w3.org/csswg/css-writing-modes-3/#logical-to-physical\r\n    // http://dev.w3.org/csswg/css-writing-modes-3/#svg-writing-mode\r\n    if (opt.rtlmode == \"auto\") {\r\n      var target = this.win[0] == _win ? this.body : this.win;\r\n      var writingMode = target.css(\"writing-mode\") || target.css(\"-webkit-writing-mode\") || target.css(\"-ms-writing-mode\") || target.css(\"-moz-writing-mode\");\r\n\r\n      if (writingMode == \"horizontal-tb\" || writingMode == \"lr-tb\" || writingMode === \"\") {\r\n        this.isrtlmode = (target.css(\"direction\") == \"rtl\");\r\n        this.isvertical = false;\r\n      } else {\r\n        this.isrtlmode = (writingMode == \"vertical-rl\" || writingMode == \"tb\" || writingMode == \"tb-rl\" || writingMode == \"rl-tb\");\r\n        this.isvertical = (writingMode == \"vertical-rl\" || writingMode == \"tb\" || writingMode == \"tb-rl\");\r\n      }\r\n    } else {\r\n      this.isrtlmode = (opt.rtlmode === true);\r\n      this.isvertical = false;\r\n    }\r\n    //    this.checkrtlmode = false;\r\n\r\n    this.scrollrunning = false;\r\n\r\n    this.scrollmom = false;\r\n\r\n    this.observer = false;  // observer div changes\r\n    this.observerremover = false;  // observer on parent for remove detection\r\n    this.observerbody = false;  // observer on body for position change\r\n\r\n    if (opt.scrollbarid !== false) {\r\n      this.id = opt.scrollbarid;\r\n    } else {\r\n      do {\r\n        this.id = \"ascrail\" + (ascrailcounter++);\r\n      } while (_doc.getElementById(this.id));\r\n    }\r\n\r\n    this.rail = false;\r\n    this.cursor = false;\r\n    this.cursorfreezed = false;\r\n    this.selectiondrag = false;\r\n\r\n    this.zoom = false;\r\n    this.zoomactive = false;\r\n\r\n    this.hasfocus = false;\r\n    this.hasmousefocus = false;\r\n\r\n    //this.visibility = true;\r\n    this.railslocked = false;  // locked by resize\r\n    this.locked = false;  // prevent lost of locked status sets by user\r\n    this.hidden = false; // rails always hidden\r\n    this.cursoractive = true; // user can interact with cursors\r\n\r\n    this.wheelprevented = false; //prevent mousewheel event\r\n\r\n    this.overflowx = opt.overflowx;\r\n    this.overflowy = opt.overflowy;\r\n\r\n    this.nativescrollingarea = false;\r\n    this.checkarea = 0;\r\n\r\n    this.events = []; // event list for unbind\r\n\r\n    this.saved = {};  // style saved\r\n\r\n    this.delaylist = {};\r\n    this.synclist = {};\r\n\r\n    this.lastdeltax = 0;\r\n    this.lastdeltay = 0;\r\n\r\n    this.detected = getBrowserDetection();\r\n\r\n    var cap = $.extend({}, this.detected);\r\n\r\n    this.canhwscroll = (cap.hastransform && opt.hwacceleration);\r\n    this.ishwscroll = (this.canhwscroll && self.haswrapper);\r\n\r\n    if (!this.isrtlmode) {\r\n      this.hasreversehr = false;\r\n    } else if (this.isvertical) { // RTL mode with reverse horizontal axis\r\n      this.hasreversehr = !(cap.iswebkit || cap.isie || cap.isie11);\r\n    } else {\r\n      this.hasreversehr = !(cap.iswebkit || (cap.isie && !cap.isie10 && !cap.isie11));\r\n    }\r\n\r\n    this.istouchcapable = false; // desktop devices with touch screen support\r\n\r\n    //## Check WebKit-based desktop with touch support\r\n    //## + Firefox 18 nightly build (desktop) false positive (or desktop with touch support)\r\n\r\n    if (!cap.cantouch && (cap.hasw3ctouch || cap.hasmstouch)) {  // desktop device with multiple input\r\n      this.istouchcapable = true;\r\n    } else if (cap.cantouch && !cap.isios && !cap.isandroid && (cap.iswebkit || cap.ismozilla)) {\r\n      this.istouchcapable = true;\r\n    }\r\n\r\n    //## disable MouseLock API on user request\r\n    if (!opt.enablemouselockapi) {\r\n      cap.hasmousecapture = false;\r\n      cap.haspointerlock = false;\r\n    }\r\n\r\n    this.debounced = function (name, fn, tm) {\r\n      if (!self) return;\r\n      var dd = self.delaylist[name] || false;\r\n      if (!dd) {\r\n        self.delaylist[name] = {\r\n          h: setAnimationFrame(function () {\r\n            self.delaylist[name].fn.call(self);\r\n            self.delaylist[name] = false;\r\n          }, tm)\r\n        };\r\n        fn.call(self);\r\n      }\r\n      self.delaylist[name].fn = fn;\r\n    };\r\n\r\n\r\n    this.synched = function (name, fn) {\r\n      if (self.synclist[name]) self.synclist[name] = fn;\r\n      else {\r\n        self.synclist[name] = fn;\r\n        setAnimationFrame(function () {\r\n          if (!self) return;\r\n          self.synclist[name] && self.synclist[name].call(self);\r\n          self.synclist[name] = null;\r\n        });\r\n      }\r\n    };\r\n\r\n    this.unsynched = function (name) {\r\n      if (self.synclist[name]) self.synclist[name] = false;\r\n    };\r\n\r\n    this.css = function (el, pars) { // save & set\r\n      for (var n in pars) {\r\n        self.saved.css.push([el, n, el.css(n)]);\r\n        el.css(n, pars[n]);\r\n      }\r\n    };\r\n\r\n    this.scrollTop = function (val) {\r\n      return (val === undefined) ? self.getScrollTop() : self.setScrollTop(val);\r\n    };\r\n\r\n    this.scrollLeft = function (val) {\r\n      return (val === undefined) ? self.getScrollLeft() : self.setScrollLeft(val);\r\n    };\r\n\r\n    // derived by by Dan Pupius www.pupius.net\r\n    var BezierClass = function (st, ed, spd, p1, p2, p3, p4) {\r\n\r\n      this.st = st;\r\n      this.ed = ed;\r\n      this.spd = spd;\r\n\r\n      this.p1 = p1 || 0;\r\n      this.p2 = p2 || 1;\r\n      this.p3 = p3 || 0;\r\n      this.p4 = p4 || 1;\r\n\r\n      this.ts = now();\r\n      this.df = ed - st;\r\n    };\r\n    BezierClass.prototype = {\r\n      B2: function (t) {\r\n        return 3 * (1 - t) * (1 - t) * t;\r\n      },\r\n      B3: function (t) {\r\n        return 3 * (1 - t) * t * t;\r\n      },\r\n      B4: function (t) {\r\n        return t * t * t;\r\n      },\r\n      getPos: function () {\r\n        return (now() - this.ts) / this.spd;\r\n      },\r\n      getNow: function () {\r\n        var pc = (now() - this.ts) / this.spd;\r\n        var bz = this.B2(pc) + this.B3(pc) + this.B4(pc);\r\n        return (pc >= 1) ? this.ed : this.st + (this.df * bz) | 0;\r\n      },\r\n      update: function (ed, spd) {\r\n        this.st = this.getNow();\r\n        this.ed = ed;\r\n        this.spd = spd;\r\n        this.ts = now();\r\n        this.df = this.ed - this.st;\r\n        return this;\r\n      }\r\n    };\r\n\r\n    //derived from http://stackoverflow.com/questions/11236090/\r\n    function getMatrixValues() {\r\n      var tr = self.doc.css(cap.trstyle);\r\n      if (tr && (tr.substr(0, 6) == \"matrix\")) {\r\n        return tr.replace(/^.*\\((.*)\\)$/g, \"$1\").replace(/px/g, '').split(/, +/);\r\n      }\r\n      return false;\r\n    }\r\n\r\n    if (this.ishwscroll) {    // hw accelerated scroll\r\n\r\n      this.doc.translate = {\r\n        x: 0,\r\n        y: 0,\r\n        tx: \"0px\",\r\n        ty: \"0px\"\r\n      };\r\n\r\n      this.getScrollTop = function (last) {\r\n        if (!last) {\r\n          var mtx = getMatrixValues();\r\n          if (mtx) return (mtx.length == 16) ? -mtx[13] : -mtx[5]; //matrix3d 16 on IE10\r\n          if (self.timerscroll && self.timerscroll.bz) return self.timerscroll.bz.getNow();\r\n        }\r\n        return self.doc.translate.y;\r\n      };\r\n\r\n      this.getScrollLeft = function (last) {\r\n        if (!last) {\r\n          var mtx = getMatrixValues();\r\n          if (mtx) return (mtx.length == 16) ? -mtx[12] : -mtx[4]; //matrix3d 16 on IE10\r\n          if (self.timerscroll && self.timerscroll.bh) return self.timerscroll.bh.getNow();\r\n        }\r\n        return self.doc.translate.x;\r\n      };\r\n\r\n      this.notifyScrollEvent = function (el) {\r\n        var e = _doc.createEvent(\"UIEvents\");\r\n        e.initUIEvent(\"scroll\", false, false, _win, 1);\r\n        e.niceevent = true;\r\n        el.dispatchEvent(e);\r\n      };\r\n\r\n      var cxscrollleft = (this.isrtlmode) ? 1 : -1;\r\n\r\n      if (cap.hastranslate3d && opt.enabletranslate3d) {\r\n        this.setScrollTop = function (val, silent) {\r\n          self.doc.translate.y = val;\r\n          self.doc.translate.ty = (val * -1) + \"px\";\r\n          self.doc.css(cap.trstyle, \"translate3d(\" + self.doc.translate.tx + \",\" + self.doc.translate.ty + \",0)\");\r\n          if (!silent) self.notifyScrollEvent(self.win[0]);\r\n        };\r\n        this.setScrollLeft = function (val, silent) {\r\n          self.doc.translate.x = val;\r\n          self.doc.translate.tx = (val * cxscrollleft) + \"px\";\r\n          self.doc.css(cap.trstyle, \"translate3d(\" + self.doc.translate.tx + \",\" + self.doc.translate.ty + \",0)\");\r\n          if (!silent) self.notifyScrollEvent(self.win[0]);\r\n        };\r\n      } else {\r\n        this.setScrollTop = function (val, silent) {\r\n          self.doc.translate.y = val;\r\n          self.doc.translate.ty = (val * -1) + \"px\";\r\n          self.doc.css(cap.trstyle, \"translate(\" + self.doc.translate.tx + \",\" + self.doc.translate.ty + \")\");\r\n          if (!silent) self.notifyScrollEvent(self.win[0]);\r\n        };\r\n        this.setScrollLeft = function (val, silent) {\r\n          self.doc.translate.x = val;\r\n          self.doc.translate.tx = (val * cxscrollleft) + \"px\";\r\n          self.doc.css(cap.trstyle, \"translate(\" + self.doc.translate.tx + \",\" + self.doc.translate.ty + \")\");\r\n          if (!silent) self.notifyScrollEvent(self.win[0]);\r\n        };\r\n      }\r\n    } else {    // native scroll\r\n\r\n      this.getScrollTop = function () {\r\n        return self.docscroll.scrollTop();\r\n      };\r\n      this.setScrollTop = function (val) {\r\n        self.docscroll.scrollTop(val);\r\n      };\r\n\r\n      this.getScrollLeft = function () {\r\n        var val;\r\n        if (!self.hasreversehr) {\r\n          val = self.docscroll.scrollLeft();\r\n        } else if (self.detected.ismozilla) {\r\n          val = self.page.maxw - Math.abs(self.docscroll.scrollLeft());\r\n        } else {\r\n          val = self.page.maxw - self.docscroll.scrollLeft();\r\n        }\r\n        return val;\r\n      };\r\n      this.setScrollLeft = function (val) {\r\n        return setTimeout(function () {\r\n          if (!self) return;\r\n          if (self.hasreversehr) {\r\n            if (self.detected.ismozilla) {\r\n              val = -(self.page.maxw - val);\r\n            } else {\r\n              val = self.page.maxw - val;\r\n            }\r\n          }\r\n          return self.docscroll.scrollLeft(val);\r\n        }, 1);\r\n      };\r\n    }\r\n\r\n    this.getTarget = function (e) {\r\n      if (!e) return false;\r\n      if (e.target) return e.target;\r\n      if (e.srcElement) return e.srcElement;\r\n      return false;\r\n    };\r\n\r\n    this.hasParent = function (e, id) {\r\n      if (!e) return false;\r\n      var el = e.target || e.srcElement || e || false;\r\n      while (el && el.id != id) {\r\n        el = el.parentNode || false;\r\n      }\r\n      return (el !== false);\r\n    };\r\n\r\n    function getZIndex() {\r\n      var dom = self.win;\r\n      if (\"zIndex\" in dom) return dom.zIndex(); // use jQuery UI method when available\r\n      while (dom.length > 0) {\r\n        if (dom[0].nodeType == 9) return false;\r\n        var zi = dom.css('zIndex');\r\n        if (!isNaN(zi) && zi !== 0) return parseInt(zi);\r\n        dom = dom.parent();\r\n      }\r\n      return false;\r\n    }\r\n\r\n    //inspired by http://forum.jquery.com/topic/width-includes-border-width-when-set-to-thin-medium-thick-in-ie\r\n    var _convertBorderWidth = {\r\n      \"thin\": 1,\r\n      \"medium\": 3,\r\n      \"thick\": 5\r\n    };\r\n\r\n    function getWidthToPixel(dom, prop, chkheight) {\r\n      var wd = dom.css(prop);\r\n      var px = parseFloat(wd);\r\n      if (isNaN(px)) {\r\n        px = _convertBorderWidth[wd] || 0;\r\n        var brd = (px == 3) ? ((chkheight) ? (self.win.outerHeight() - self.win.innerHeight()) : (self.win.outerWidth() - self.win.innerWidth())) : 1; //DON'T TRUST CSS\r\n        if (self.isie8 && px) px += 1;\r\n        return (brd) ? px : 0;\r\n      }\r\n      return px;\r\n    }\r\n\r\n    this.getDocumentScrollOffset = function () {\r\n      return {\r\n        top: _win.pageYOffset || _doc.documentElement.scrollTop,\r\n        left: _win.pageXOffset || _doc.documentElement.scrollLeft\r\n      };\r\n    };\r\n\r\n    this.getOffset = function () {\r\n      if (self.isfixed) {\r\n        var ofs = self.win.offset();  // fix Chrome auto issue (when right/bottom props only)\r\n        var scrl = self.getDocumentScrollOffset();\r\n        ofs.top -= scrl.top;\r\n        ofs.left -= scrl.left;\r\n        return ofs;\r\n      }\r\n      var ww = self.win.offset();\r\n      if (!self.viewport) return ww;\r\n      var vp = self.viewport.offset();\r\n      return {\r\n        top: ww.top - vp.top,\r\n        left: ww.left - vp.left\r\n      };\r\n    };\r\n\r\n    this.updateScrollBar = function (len) {\r\n      var pos, off;\r\n      if (self.ishwscroll) {\r\n        self.rail.css({\r\n          height: self.win.innerHeight() - (opt.railpadding.top + opt.railpadding.bottom)\r\n        });\r\n        if (self.railh) self.railh.css({\r\n          width: self.win.innerWidth() - (opt.railpadding.left + opt.railpadding.right)\r\n        });\r\n      } else {\r\n        var wpos = self.getOffset();\r\n        pos = {\r\n          top: wpos.top,\r\n          left: wpos.left - (opt.railpadding.left + opt.railpadding.right)\r\n        };\r\n        pos.top += getWidthToPixel(self.win, 'border-top-width', true);\r\n        pos.left += (self.rail.align) ? self.win.outerWidth() - getWidthToPixel(self.win, 'border-right-width') - self.rail.width : getWidthToPixel(self.win, 'border-left-width');\r\n\r\n        off = opt.railoffset;\r\n        if (off) {\r\n          if (off.top) pos.top += off.top;\r\n          if (off.left) pos.left += off.left;\r\n        }\r\n\r\n        if (!self.railslocked) self.rail.css({\r\n          top: pos.top,\r\n          left: pos.left,\r\n          height: ((len) ? len.h : self.win.innerHeight()) - (opt.railpadding.top + opt.railpadding.bottom)\r\n        });\r\n\r\n        if (self.zoom) {\r\n          self.zoom.css({\r\n            top: pos.top + 1,\r\n            left: (self.rail.align == 1) ? pos.left - 20 : pos.left + self.rail.width + 4\r\n          });\r\n        }\r\n\r\n        if (self.railh && !self.railslocked) {\r\n          pos = {\r\n            top: wpos.top,\r\n            left: wpos.left\r\n          };\r\n          off = opt.railhoffset;\r\n          if (off) {\r\n            if (off.top) pos.top += off.top;\r\n            if (off.left) pos.left += off.left;\r\n          }\r\n          var y = (self.railh.align) ? pos.top + getWidthToPixel(self.win, 'border-top-width', true) + self.win.innerHeight() - self.railh.height : pos.top + getWidthToPixel(self.win, 'border-top-width', true);\r\n          var x = pos.left + getWidthToPixel(self.win, 'border-left-width');\r\n          self.railh.css({\r\n            top: y - (opt.railpadding.top + opt.railpadding.bottom),\r\n            left: x,\r\n            width: self.railh.width\r\n          });\r\n        }\r\n\r\n      }\r\n    };\r\n\r\n    this.doRailClick = function (e, dbl, hr) {\r\n      var fn, pg, cur, pos;\r\n\r\n      if (self.railslocked) return;\r\n\r\n      self.cancelEvent(e);\r\n\r\n      if (!(\"pageY\" in e)) {\r\n        e.pageX = e.clientX + _doc.documentElement.scrollLeft;\r\n        e.pageY = e.clientY + _doc.documentElement.scrollTop;\r\n      }\r\n\r\n      if (dbl) {\r\n        fn = (hr) ? self.doScrollLeft : self.doScrollTop;\r\n        cur = (hr) ? ((e.pageX - self.railh.offset().left - (self.cursorwidth / 2)) * self.scrollratio.x) : ((e.pageY - self.rail.offset().top - (self.cursorheight / 2)) * self.scrollratio.y);\r\n        self.unsynched(\"relativexy\");\r\n        fn(cur|0);\r\n      } else {\r\n        fn = (hr) ? self.doScrollLeftBy : self.doScrollBy;\r\n        cur = (hr) ? self.scroll.x : self.scroll.y;\r\n        pos = (hr) ? e.pageX - self.railh.offset().left : e.pageY - self.rail.offset().top;\r\n        pg = (hr) ? self.view.w : self.view.h;\r\n        fn((cur >= pos) ? pg : -pg);\r\n      }\r\n\r\n    };\r\n\r\n    var _currentPointerCaptured = null;\r\n    function setPointerCapture(el,e) {\r\n      if (_currentPointerCaptured) unsetPointerCapture();\r\n      if (!e.pointerId) return;\r\n      e.setPointerCapture(e.pointerId);\r\n      _currentPointerCaptured = { el: el, id: e.pointerId };\r\n    }\r\n    function unsetPointerCapture() {\r\n      if (_currentPointerCaptured)\r\n        _currentPointerCaptured.el.releasePointerCapture(_currentPointerCaptured.id);\r\n      _currentPointerCaptured = null;\r\n    }\r\n\r\n    self.newscrolly = self.newscrollx = 0;\r\n\r\n    self.hasanimationframe = (\"requestAnimationFrame\" in _win);\r\n    self.hascancelanimationframe = (\"cancelAnimationFrame\" in _win);\r\n\r\n    self.hasborderbox = false;\r\n\r\n    this.init = function () {\r\n\r\n      self.saved.css = [];\r\n\r\n      detectFadingScrollbar();\r\n\r\n      if (cap.isoperamini) return true; // SORRY, DO NOT WORK!\r\n      if (cap.isandroid && !(\"hidden\" in _doc)) return true; // Android 3- SORRY, DO NOT WORK!\r\n\r\n      opt.emulatetouch = opt.emulatetouch || opt.touchbehavior;  // mantain compatibility with \"touchbehavior\"      \r\n\r\n      self.hasborderbox = _win.getComputedStyle && (_win.getComputedStyle(_doc.body)['box-sizing'] === \"border-box\");\r\n\r\n      var _scrollyhidden = {};\r\n\r\n      if (cap.ismozilla) {\r\n        _scrollyhidden = { 'scrollbar-width': 'none' };\r\n      }\r\n      else if (cap.ischrome) {\r\n        setupChrome();\r\n        this.win.addClass(\"nicescroll-webkit-nativescrollbarhide\");\r\n      }\r\n      else {\r\n        _scrollyhidden = { 'overflow-y': 'hidden' };\r\n        this.hasnativescroll = false;\r\n      }\r\n\r\n      if (self.ishwscroll) {\r\n        this.doc.css(cap.transitionstyle, cap.prefixstyle + 'transform 0ms ease-out');\r\n        if (cap.transitionend) self.bind(self.doc, cap.transitionend, self.onScrollTransitionEnd, false); //I have got to do something usefull!!\r\n      }\r\n\r\n      self.zindex = \"auto\";\r\n      if (!self.ispage && opt.zindex == \"auto\") {\r\n        self.zindex = getZIndex() || \"auto\";\r\n      } else {\r\n        self.zindex = opt.zindex;\r\n      }\r\n\r\n      if (!self.ispage && self.zindex != \"auto\" && self.zindex > globalmaxzindex) {\r\n        globalmaxzindex = self.zindex;\r\n      }\r\n\r\n      if (self.isie && self.zindex === 0 && opt.zindex == \"auto\") { // fix IE auto == 0\r\n        self.zindex = \"auto\";\r\n      }\r\n\r\n      if (!self.ispage || !cap.isieold) {\r\n\r\n        var cont = self.docscroll;\r\n        if (self.ispage) cont = (self.haswrapper) ? self.win : self.doc;\r\n\r\n        self.css(cont, _scrollyhidden);\r\n\r\n        var cursor = $(_doc.createElement('div'));\r\n        cursor.css({\r\n          position: \"relative\",\r\n          top: 0,\r\n          \"float\": \"right\",\r\n          width: opt.cursorwidth,\r\n          height: 0,\r\n          'background-color': opt.cursorcolor,\r\n          border: opt.cursorborder,\r\n          'background-clip': 'padding-box',\r\n          'border-radius': opt.cursorborderradius\r\n        });\r\n\r\n        cursor.addClass('nicescroll-cursors');\r\n\r\n        self.cursor = cursor;\r\n\r\n        var rail = $(_doc.createElement('div'));\r\n        rail.attr('id', self.id);\r\n        rail.addClass('nicescroll-rails nicescroll-rails-vr');\r\n\r\n        if (opt.scrollCLass) {\r\n            rail.addClass(opt.scrollCLass);\r\n        }\r\n\r\n        var v, a, kp = [\"left\", \"right\", \"top\", \"bottom\"];  //**\r\n        for (var n in kp) {\r\n          a = kp[n];\r\n          v = opt.railpadding[a] || 0;\r\n          v && rail.css(\"padding-\" + a, v + \"px\");\r\n        }\r\n\r\n        rail.append(cursor);\r\n\r\n        rail.width = Math.max(parseFloat(opt.cursorwidth), cursor.outerWidth());\r\n        rail.css({\r\n          width: rail.width + \"px\",\r\n          zIndex: self.zindex,\r\n          background: opt.background,\r\n          cursor: \"default\"\r\n        });\r\n\r\n        rail.visibility = true;\r\n        rail.scrollable = true;\r\n\r\n        rail.align = (opt.railalign == \"left\") ? 0 : 1;\r\n\r\n        self.rail = rail;\r\n\r\n        self.rail.drag = false;\r\n\r\n        var zoom = false;\r\n        if (opt.boxzoom && !self.ispage && !cap.isieold) {\r\n          zoom = _doc.createElement('div');\r\n\r\n          self.bind(zoom, \"click\", self.doZoom);\r\n          self.bind(zoom, \"mouseenter\", function () {\r\n            self.zoom.css('opacity', opt.cursoropacitymax);\r\n          });\r\n          self.bind(zoom, \"mouseleave\", function () {\r\n            self.zoom.css('opacity', opt.cursoropacitymin);\r\n          });\r\n\r\n          self.zoom = $(zoom);\r\n          self.zoom.css({\r\n            cursor: \"pointer\",\r\n            zIndex: self.zindex,\r\n            backgroundImage: 'url(' + opt.scriptpath + 'zoomico.png)',\r\n            height: 18,\r\n            width: 18,\r\n            backgroundPosition: '0 0'\r\n          });\r\n          if (opt.dblclickzoom) self.bind(self.win, \"dblclick\", self.doZoom);\r\n          if (cap.cantouch && opt.gesturezoom) {\r\n            self.ongesturezoom = function (e) {\r\n              if (e.scale > 1.5) self.doZoomIn(e);\r\n              if (e.scale < 0.8) self.doZoomOut(e);\r\n              return self.cancelEvent(e);\r\n            };\r\n            self.bind(self.win, \"gestureend\", self.ongesturezoom);\r\n          }\r\n        }\r\n\r\n        // init HORIZ\r\n\r\n        self.railh = false;\r\n        var railh;\r\n\r\n        if (opt.horizrailenabled) {\r\n\r\n          self.css(cont, {\r\n            overflowX: 'hidden'\r\n          });\r\n\r\n          cursor = $(_doc.createElement('div'));\r\n          cursor.css({\r\n            position: \"absolute\",\r\n            top: 0,\r\n            height: opt.cursorwidth,\r\n            width: 0,\r\n            backgroundColor: opt.cursorcolor,\r\n            border: opt.cursorborder,\r\n            backgroundClip: 'padding-box',\r\n            'border-radius': opt.cursorborderradius\r\n          });\r\n\r\n          if (cap.isieold) cursor.css('overflow', 'hidden');  //IE6 horiz scrollbar issue\r\n\r\n          cursor.addClass('nicescroll-cursors');\r\n\r\n          self.cursorh = cursor;\r\n\r\n          railh = $(_doc.createElement('div'));\r\n          railh.attr('id', self.id + '-hr');\r\n          railh.addClass('nicescroll-rails nicescroll-rails-hr');\r\n          if (opt.scrollCLass) {\r\n              railh.addClass(opt.scrollCLass);\r\n          }\r\n\r\n          railh.height = Math.max(parseFloat(opt.cursorwidth), cursor.outerHeight());\r\n          railh.css({\r\n            height: railh.height + \"px\",\r\n            'zIndex': self.zindex,\r\n            \"background\": opt.background\r\n          });\r\n\r\n          railh.append(cursor);\r\n\r\n          railh.visibility = true;\r\n          railh.scrollable = true;\r\n\r\n          railh.align = (opt.railvalign == \"top\") ? 0 : 1;\r\n\r\n          self.railh = railh;\r\n\r\n          self.railh.drag = false;\r\n\r\n        }\r\n\r\n        if (self.ispage) {\r\n\r\n          rail.css({\r\n            position: \"fixed\",\r\n            top: 0,\r\n            height: \"100%\"\r\n          });\r\n\r\n          rail.css((rail.align) ? { right: 0 } : { left: 0 });\r\n\r\n          self.body.append(rail);\r\n          if (self.railh) {\r\n            railh.css({\r\n              position: \"fixed\",\r\n              left: 0,\r\n              width: \"100%\"\r\n            });\r\n\r\n            railh.css((railh.align) ? { bottom: 0 } : { top: 0 });\r\n\r\n            self.body.append(railh);\r\n          }\r\n        } else {\r\n          if (self.ishwscroll) {\r\n            if (self.win.css('position') == 'static') self.css(self.win, { 'position': 'relative' });\r\n            var bd = (self.win[0].nodeName == 'HTML') ? self.body : self.win;\r\n            $(bd).scrollTop(0).scrollLeft(0);  // fix rail position if content already scrolled\r\n            if (self.zoom) {\r\n              self.zoom.css({\r\n                position: \"absolute\",\r\n                top: 1,\r\n                right: 0,\r\n                \"margin-right\": rail.width + 4\r\n              });\r\n              bd.append(self.zoom);\r\n            }\r\n            rail.css({\r\n              position: \"absolute\",\r\n              top: 0\r\n            });\r\n            rail.css((rail.align) ? { right: 0 } : { left: 0 });\r\n            bd.append(rail);\r\n            if (railh) {\r\n              railh.css({\r\n                position: \"absolute\",\r\n                left: 0,\r\n                bottom: 0\r\n              });\r\n              railh.css((railh.align) ? { bottom: 0 } : { top: 0 });\r\n              bd.append(railh);\r\n            }\r\n          } else {\r\n            self.isfixed = (self.win.css(\"position\") == \"fixed\");\r\n            var rlpos = (self.isfixed) ? \"fixed\" : \"absolute\";\r\n\r\n            if (!self.isfixed) self.viewport = self.getViewport(self.win[0]);\r\n            if (self.viewport) {\r\n              self.body = self.viewport;\r\n              if (!(/fixed|absolute/.test(self.viewport.css(\"position\")))) self.css(self.viewport, {\r\n                \"position\": \"relative\"\r\n              });\r\n            }\r\n\r\n            rail.css({\r\n              position: rlpos\r\n            });\r\n            if (self.zoom) self.zoom.css({\r\n              position: rlpos\r\n            });\r\n            self.updateScrollBar();\r\n            self.body.append(rail);\r\n            if (self.zoom) self.body.append(self.zoom);\r\n            if (self.railh) {\r\n              railh.css({\r\n                position: rlpos\r\n              });\r\n              self.body.append(railh);\r\n            }\r\n          }\r\n\r\n          if (opt.disableoutline) {\r\n            if (cap.iswebkit) self.win.css('outline', 'none');  // Webkit outline\r\n            if (cap.isios) self.css(self.win, { // prevent grey layer on click\r\n              '-webkit-tap-highlight-color': 'rgba(0,0,0,0)',\r\n              '-webkit-touch-callout': 'none'\r\n            });  \r\n          }\r\n\r\n        }\r\n\r\n        if (opt.autohidemode === false) {\r\n          self.autohidedom = false;\r\n          self.rail.css({\r\n            opacity: opt.cursoropacitymax\r\n          });\r\n          if (self.railh) self.railh.css({\r\n            opacity: opt.cursoropacitymax\r\n          });\r\n        } else if ((opt.autohidemode === true) || (opt.autohidemode === \"leave\")) {\r\n          self.autohidedom = $().add(self.rail);\r\n          if (cap.isie8) self.autohidedom = self.autohidedom.add(self.cursor);\r\n          if (self.railh) self.autohidedom = self.autohidedom.add(self.railh);\r\n          if (self.railh && cap.isie8) self.autohidedom = self.autohidedom.add(self.cursorh);\r\n        } else if (opt.autohidemode == \"scroll\") {\r\n          self.autohidedom = $().add(self.rail);\r\n          if (self.railh) self.autohidedom = self.autohidedom.add(self.railh);\r\n        } else if (opt.autohidemode == \"cursor\") {\r\n          self.autohidedom = $().add(self.cursor);\r\n          if (self.railh) self.autohidedom = self.autohidedom.add(self.cursorh);\r\n        } else if (opt.autohidemode == \"hidden\") {\r\n          self.autohidedom = false;\r\n          self.hide();\r\n          self.railslocked = false;\r\n        }\r\n\r\n        if (cap.cantouch || self.istouchcapable || opt.emulatetouch || cap.hasmstouch) {\r\n\r\n          self.scrollmom = new ScrollMomentumClass2D(self);\r\n\r\n          //var delayedclick = null;\r\n\r\n          self.ontouchstart = function (e) {\r\n\r\n            if (self.locked) return false;\r\n\r\n            //if (e.pointerType && e.pointerType != 2 && e.pointerType != \"touch\") return false;\r\n            if (e.pointerType && (e.pointerType === 'mouse' || e.pointerType === e.MSPOINTER_TYPE_MOUSE)) return false;  // need test on surface!!\r\n\r\n            self.hasmoving = false;\r\n\r\n            if (self.scrollmom.timer) {\r\n              self.triggerScrollEnd();\r\n              self.scrollmom.stop();\r\n            }\r\n\r\n            if (!self.railslocked) {\r\n              var tg = self.getTarget(e);\r\n\r\n              if (tg) {\r\n                var skp = (/INPUT/i.test(tg.nodeName)) && (/range/i.test(tg.type));\r\n                if (skp) return self.stopPropagation(e);\r\n              }\r\n\r\n              var ismouse = (e.type === \"mousedown\");\r\n\r\n              if (!(\"clientX\" in e) && (\"changedTouches\" in e)) {\r\n                e.clientX = e.changedTouches[0].clientX;\r\n                e.clientY = e.changedTouches[0].clientY;\r\n              }\r\n\r\n              if (self.forcescreen) {\r\n                var le = e;\r\n                e = {\r\n                  \"original\": (e.original) ? e.original : e\r\n                };\r\n                e.clientX = le.screenX;\r\n                e.clientY = le.screenY;\r\n              }\r\n\r\n              self.rail.drag = {\r\n                x: e.clientX,\r\n                y: e.clientY,\r\n                sx: self.scroll.x,\r\n                sy: self.scroll.y,\r\n                st: self.getScrollTop(),\r\n                sl: self.getScrollLeft(),\r\n                pt: 2,\r\n                dl: false,\r\n                tg: tg\r\n              };\r\n\r\n              if (self.ispage || !opt.directionlockdeadzone) {\r\n\r\n                self.rail.drag.dl = \"f\";\r\n\r\n              } else {\r\n\r\n                var view = {\r\n                  w: $window.width(),\r\n                  h: $window.height()\r\n                };\r\n\r\n                var page = self.getContentSize();\r\n\r\n                var maxh = page.h - view.h;\r\n                var maxw = page.w - view.w;\r\n\r\n                if (self.rail.scrollable && !self.railh.scrollable) self.rail.drag.ck = (maxh > 0) ? \"v\" : false;\r\n                else if (!self.rail.scrollable && self.railh.scrollable) self.rail.drag.ck = (maxw > 0) ? \"h\" : false;\r\n                else self.rail.drag.ck = false;\r\n\r\n              }\r\n\r\n              if (opt.emulatetouch && self.isiframe && cap.isie) {\r\n                var wp = self.win.position();\r\n                self.rail.drag.x += wp.left;\r\n                self.rail.drag.y += wp.top;\r\n              }\r\n\r\n              self.hasmoving = false;\r\n              self.lastmouseup = false;\r\n              self.scrollmom.reset(e.clientX, e.clientY);\r\n\r\n              if (tg&&ismouse) {\r\n\r\n                var ip = /INPUT|SELECT|BUTTON|TEXTAREA/i.test(tg.nodeName);\r\n                if (!ip) {\r\n                  if (cap.hasmousecapture) setPointerCapture(tg,e);\r\n                  if (opt.emulatetouch) {\r\n                    if (tg.onclick && !(tg._onclick || false)) { // intercept DOM0 onclick event\r\n                      tg._onclick = tg.onclick;\r\n                      tg.onclick = function (e) {\r\n                        if (self.hasmoving) return false;\r\n                        tg._onclick.call(this, e);\r\n                      };\r\n                    }\r\n                    return self.cancelEvent(e);\r\n                  }\r\n                  return self.stopPropagation(e);\r\n                }\r\n\r\n                if (/SUBMIT|CANCEL|BUTTON/i.test($(tg).attr('type'))) {\r\n                  self.preventclick = {\r\n                    \"tg\": tg,\r\n                    \"click\": false\r\n                  };\r\n                }\r\n\r\n              }\r\n            }\r\n\r\n          };\r\n\r\n          self.ontouchend = function (e) {\r\n\r\n            if (!self || !self.rail.drag) return true;\r\n\r\n            if (self.rail.drag.pt == 2) {\r\n              //if (e.pointerType && e.pointerType != 2 && e.pointerType != \"touch\") return false;\r\n              if (e.pointerType && (e.pointerType === 'mouse' || e.pointerType === e.MSPOINTER_TYPE_MOUSE)) return false;\r\n\r\n              self.rail.drag = false;\r\n\r\n              var ismouse = (e.type === \"mouseup\");\r\n\r\n              if (self.hasmoving) {\r\n                self.scrollmom.doMomentum();\r\n                self.lastmouseup = true;\r\n                self.hideCursor();\r\n                if (cap.hasmousecapture) unsetPointerCapture();\r\n                if (ismouse) return self.cancelEvent(e);\r\n              }\r\n\r\n            }\r\n            else if (self.rail.drag.pt == 1) {\r\n              return self.onmouseup(e);\r\n            }\r\n\r\n          };\r\n\r\n          var moveneedoffset = (opt.emulatetouch && self.isiframe && !cap.hasmousecapture);\r\n\r\n          var locktollerance = opt.directionlockdeadzone * 0.3 | 0;\r\n\r\n          self.ontouchmove = function (e, byiframe) {\r\n\r\n            if (!self || !self.rail.drag) return true;\r\n\r\n            if (e.targetTouches && opt.preventmultitouchscrolling) {\r\n              if (e.targetTouches.length > 1) return true; // multitouch\r\n            }\r\n\r\n            //if (e.pointerType && e.pointerType != 2 && e.pointerType != \"touch\") return false;\r\n            if (e.pointerType && (e.pointerType === 'mouse' || e.pointerType === e.MSPOINTER_TYPE_MOUSE)) return true;\r\n\r\n            if (self.rail.drag.pt == 2) {\r\n\r\n              if ((\"changedTouches\" in e)) {\r\n                e.clientX = e.changedTouches[0].clientX;\r\n                e.clientY = e.changedTouches[0].clientY;\r\n              }\r\n\r\n              var ofy, ofx;\r\n              ofx = ofy = 0;\r\n\r\n              if (moveneedoffset && !byiframe) {\r\n                var wp = self.win.position();\r\n                ofx = -wp.left;\r\n                ofy = -wp.top;\r\n              }\r\n\r\n              var fy = e.clientY + ofy;\r\n              var my = (fy - self.rail.drag.y);\r\n              var fx = e.clientX + ofx;\r\n              var mx = (fx - self.rail.drag.x);\r\n\r\n              var ny = self.rail.drag.st - my;\r\n\r\n              if (self.ishwscroll && opt.bouncescroll) {\r\n                if (ny < 0) {\r\n                  ny = Math.round(ny / 2);\r\n                } else if (ny > self.page.maxh) {\r\n                  ny = self.page.maxh + Math.round((ny - self.page.maxh) / 2);\r\n                }\r\n              } else {\r\n                if (ny < 0) {\r\n                  ny = 0;\r\n                  fy = 0;\r\n                }\r\n                else if (ny > self.page.maxh) {\r\n                  ny = self.page.maxh;\r\n                  fy = 0;\r\n                }\r\n                if (fy === 0 && !self.hasmoving) {\r\n                  if (!self.ispage) self.rail.drag = false;\r\n                  return true;\r\n                }\r\n              }\r\n\r\n              var nx = self.getScrollLeft();\r\n\r\n              if (self.railh && self.railh.scrollable) {\r\n                nx = (self.isrtlmode) ? mx - self.rail.drag.sl : self.rail.drag.sl - mx;\r\n\r\n                if (self.ishwscroll && opt.bouncescroll) {\r\n                  if (nx < 0) {\r\n                    nx = Math.round(nx / 2);\r\n                  } else if (nx > self.page.maxw) {\r\n                    nx = self.page.maxw + Math.round((nx - self.page.maxw) / 2);\r\n                  }\r\n                } else {\r\n                  if (nx < 0) {\r\n                    nx = 0;\r\n                    fx = 0;\r\n                  }\r\n                  if (nx > self.page.maxw) {\r\n                    nx = self.page.maxw;\r\n                    fx = 0;\r\n                  }\r\n                }\r\n\r\n              }\r\n\r\n\r\n              if (!self.hasmoving) {\r\n\r\n                if (self.rail.drag.y === e.clientY && self.rail.drag.x === e.clientX) return self.cancelEvent(e);  // prevent first useless move event \r\n\r\n                var ay = Math.abs(my);\r\n                var ax = Math.abs(mx);\r\n                var dz = opt.directionlockdeadzone;\r\n\r\n                if (!self.rail.drag.ck) {\r\n                  if (ay > dz && ax > dz) self.rail.drag.dl = \"f\";\r\n                  else if (ay > dz) self.rail.drag.dl = (ax > locktollerance) ? \"f\" : \"v\";\r\n                  else if (ax > dz) self.rail.drag.dl = (ay > locktollerance) ? \"f\" : \"h\";\r\n                }\r\n                else if (self.rail.drag.ck == \"v\") {\r\n                  if (ax > dz && ay <= locktollerance) {\r\n                    self.rail.drag = false;\r\n                  }\r\n                  else if (ay > dz) self.rail.drag.dl = \"v\";\r\n\r\n                }\r\n                else if (self.rail.drag.ck == \"h\") {\r\n\r\n                  if (ay > dz && ax <= locktollerance) {\r\n                    self.rail.drag = false;\r\n                  }\r\n                  else if (ax > dz) self.rail.drag.dl = \"h\";\r\n\r\n                }\r\n\r\n                if (!self.rail.drag.dl) return self.cancelEvent(e);\r\n\r\n                self.triggerScrollStart(e.clientX, e.clientY, 0, 0, 0);\r\n                self.hasmoving = true;\r\n              }\r\n\r\n              if (self.preventclick && !self.preventclick.click) {\r\n                self.preventclick.click = self.preventclick.tg.onclick || false;\r\n                self.preventclick.tg.onclick = self.onpreventclick;\r\n              }\r\n\r\n              if (self.rail.drag.dl) {\r\n                if (self.rail.drag.dl == \"v\") nx = self.rail.drag.sl;\r\n                else if (self.rail.drag.dl == \"h\") ny = self.rail.drag.st;\r\n              }\r\n\r\n              self.synched(\"touchmove\", function () {\r\n                if (self.rail.drag && (self.rail.drag.pt == 2)) {\r\n                  if (self.prepareTransition) self.resetTransition();\r\n                  if (self.rail.scrollable) self.setScrollTop(ny);\r\n                  self.scrollmom.update(fx, fy);\r\n                  if (self.railh && self.railh.scrollable) {\r\n                    self.setScrollLeft(nx);\r\n                    self.showCursor(ny, nx);\r\n                  } else {\r\n                    self.showCursor(ny);\r\n                  }\r\n                  if (cap.isie10) _doc.selection.clear();\r\n                }\r\n              });\r\n\r\n              return self.cancelEvent(e);\r\n\r\n            }\r\n            else if (self.rail.drag.pt == 1) { // drag on cursor\r\n              return self.onmousemove(e);\r\n            }\r\n\r\n          };\r\n\r\n          self.ontouchstartCursor = function (e, hronly) {\r\n            if (self.rail.drag && self.rail.drag.pt != 3) return;\r\n            if (self.locked) return self.cancelEvent(e);\r\n            self.cancelScroll();\r\n            self.rail.drag = {\r\n              x: e.touches[0].clientX,\r\n              y: e.touches[0].clientY,\r\n              sx: self.scroll.x,\r\n              sy: self.scroll.y,\r\n              pt: 3,\r\n              hr: (!!hronly)\r\n            };\r\n            var tg = self.getTarget(e);\r\n            if (!self.ispage && cap.hasmousecapture) setPointerCapture(tg,e);\r\n            if (self.isiframe && !cap.hasmousecapture) {\r\n              self.saved.csspointerevents = self.doc.css(\"pointer-events\");\r\n              self.css(self.doc, { \"pointer-events\": \"none\" });\r\n            }\r\n            return self.cancelEvent(e);\r\n          };\r\n\r\n          self.ontouchendCursor = function (e) {\r\n            if (self.rail.drag) {\r\n              if (cap.hasmousecapture) unsetPointerCapture();\r\n              if (self.isiframe && !cap.hasmousecapture) self.doc.css(\"pointer-events\", self.saved.csspointerevents);\r\n              if (self.rail.drag.pt != 3) return;\r\n              self.rail.drag = false;\r\n              return self.cancelEvent(e);\r\n            }\r\n          };\r\n\r\n          self.ontouchmoveCursor = function (e) {\r\n            if (self.rail.drag) {\r\n              if (self.rail.drag.pt != 3) return;\r\n\r\n              self.cursorfreezed = true;\r\n\r\n              if (self.rail.drag.hr) {\r\n                self.scroll.x = self.rail.drag.sx + (e.touches[0].clientX - self.rail.drag.x);\r\n                if (self.scroll.x < 0) self.scroll.x = 0;\r\n                var mw = self.scrollvaluemaxw;\r\n                if (self.scroll.x > mw) self.scroll.x = mw;\r\n              } else {\r\n                self.scroll.y = self.rail.drag.sy + (e.touches[0].clientY - self.rail.drag.y);\r\n                if (self.scroll.y < 0) self.scroll.y = 0;\r\n                var my = self.scrollvaluemax;\r\n                if (self.scroll.y > my) self.scroll.y = my;\r\n              }\r\n\r\n              self.synched('touchmove', function () {\r\n                if (self.rail.drag && (self.rail.drag.pt == 3)) {\r\n                  self.showCursor();\r\n                  if (self.rail.drag.hr) self.doScrollLeft(Math.round(self.scroll.x * self.scrollratio.x), opt.cursordragspeed);\r\n                  else self.doScrollTop(Math.round(self.scroll.y * self.scrollratio.y), opt.cursordragspeed);\r\n                }\r\n              });\r\n\r\n              return self.cancelEvent(e);\r\n            }\r\n\r\n          };\r\n\r\n        }\r\n\r\n        self.onmousedown = function (e, hronly) {\r\n          if (self.rail.drag && self.rail.drag.pt != 1) return;\r\n          if (self.railslocked) return self.cancelEvent(e);\r\n          self.cancelScroll();\r\n          self.rail.drag = {\r\n            x: e.clientX,\r\n            y: e.clientY,\r\n            sx: self.scroll.x,\r\n            sy: self.scroll.y,\r\n            pt: 1,\r\n            hr: hronly || false\r\n          };\r\n          var tg = self.getTarget(e);\r\n\r\n          if (cap.hasmousecapture) setPointerCapture(tg,e);\r\n          if (self.isiframe && !cap.hasmousecapture) {\r\n            self.saved.csspointerevents = self.doc.css(\"pointer-events\");\r\n            self.css(self.doc, {\r\n              \"pointer-events\": \"none\"\r\n            });\r\n          }\r\n          self.hasmoving = false;\r\n          return self.cancelEvent(e);\r\n        };\r\n\r\n        self.onmouseup = function (e) {\r\n          if (self.rail.drag) {\r\n            if (self.rail.drag.pt != 1) return true;\r\n\r\n            if (cap.hasmousecapture) unsetPointerCapture();\r\n            if (self.isiframe && !cap.hasmousecapture) self.doc.css(\"pointer-events\", self.saved.csspointerevents);\r\n            self.rail.drag = false;\r\n            self.cursorfreezed = false;\r\n            if (self.hasmoving) self.triggerScrollEnd();\r\n            return self.cancelEvent(e);\r\n          }\r\n        };\r\n\r\n        self.onmousemove = function (e) {\r\n          if (self.rail.drag) {\r\n            if (self.rail.drag.pt !== 1) return;\r\n\r\n            if (cap.ischrome && e.which === 0) return self.onmouseup(e);\r\n\r\n            self.cursorfreezed = true;\r\n\r\n            if (!self.hasmoving) self.triggerScrollStart(e.clientX, e.clientY, 0, 0, 0);\r\n\r\n            self.hasmoving = true;\r\n\r\n            if (self.rail.drag.hr) {\r\n              self.scroll.x = self.rail.drag.sx + (e.clientX - self.rail.drag.x);\r\n              if (self.scroll.x < 0) self.scroll.x = 0;\r\n              var mw = self.scrollvaluemaxw;\r\n              if (self.scroll.x > mw) self.scroll.x = mw;\r\n            } else {\r\n              self.scroll.y = self.rail.drag.sy + (e.clientY - self.rail.drag.y);\r\n              if (self.scroll.y < 0) self.scroll.y = 0;\r\n              var my = self.scrollvaluemax;\r\n              if (self.scroll.y > my) self.scroll.y = my;\r\n            }\r\n\r\n            self.synched('mousemove', function () {\r\n\r\n              if (self.cursorfreezed) {\r\n                self.showCursor();\r\n\r\n                if (self.rail.drag.hr) {\r\n                  self.scrollLeft(Math.round(self.scroll.x * self.scrollratio.x));\r\n                } else {\r\n                  self.scrollTop(Math.round(self.scroll.y * self.scrollratio.y));\r\n                }\r\n\r\n              }\r\n            });\r\n\r\n            return self.cancelEvent(e);\r\n          }\r\n          else {\r\n            self.checkarea = 0;\r\n          }\r\n        };\r\n\r\n        if (cap.cantouch || opt.emulatetouch) {\r\n\r\n          self.onpreventclick = function (e) {\r\n            if (self.preventclick) {\r\n              self.preventclick.tg.onclick = self.preventclick.click;\r\n              self.preventclick = false;\r\n              return self.cancelEvent(e);\r\n            }\r\n          };\r\n\r\n          self.onclick = (cap.isios) ? false : function (e) {  // it needs to check IE11 ???\r\n            if (self.lastmouseup) {\r\n              self.lastmouseup = false;\r\n              return self.cancelEvent(e);\r\n            } else {\r\n              return true;\r\n            }\r\n          };\r\n\r\n          if (opt.grabcursorenabled && cap.cursorgrabvalue) {\r\n            self.css((self.ispage) ? self.doc : self.win, {\r\n              'cursor': cap.cursorgrabvalue\r\n            });\r\n            self.css(self.rail, {\r\n              'cursor': cap.cursorgrabvalue\r\n            });\r\n          }\r\n\r\n        } else {\r\n\r\n          var checkSelectionScroll = function (e) {\r\n            if (!self.selectiondrag) return;\r\n\r\n            if (e) {\r\n              var ww = self.win.outerHeight();\r\n              var df = (e.pageY - self.selectiondrag.top);\r\n              if (df > 0 && df < ww) df = 0;\r\n              if (df >= ww) df -= ww;\r\n              self.selectiondrag.df = df;\r\n            }\r\n            if (self.selectiondrag.df === 0) return;\r\n\r\n            var rt = -(self.selectiondrag.df*2/6)|0;\r\n            self.doScrollBy(rt);\r\n\r\n            self.debounced(\"doselectionscroll\", function () {\r\n              checkSelectionScroll();\r\n            }, 50);\r\n          };\r\n\r\n          if (\"getSelection\" in _doc) { // A grade - Major browsers\r\n            self.hasTextSelected = function () {\r\n              return (_doc.getSelection().rangeCount > 0);\r\n            };\r\n          } else if (\"selection\" in _doc) { //IE9-\r\n            self.hasTextSelected = function () {\r\n              return (_doc.selection.type != \"None\");\r\n            };\r\n          } else {\r\n            self.hasTextSelected = function () { // no support\r\n              return false;\r\n            };\r\n          }\r\n\r\n          self.onselectionstart = function (e) {\r\n            //  More testing - severe chrome issues           \r\n            /* \r\n                          if (!self.haswrapper&&(e.which&&e.which==2)) {  // fool browser to manage middle button scrolling\r\n                            self.win.css({'overflow':'auto'});\r\n                            setTimeout(function(){\r\n                              self.win.css({'overflow':'hidden'});\r\n                            },10);                \r\n                            return true;\r\n                          }            \r\n            */\r\n            if (self.ispage) return;\r\n            self.selectiondrag = self.win.offset();\r\n          };\r\n\r\n          self.onselectionend = function (e) {\r\n            self.selectiondrag = false;\r\n          };\r\n          self.onselectiondrag = function (e) {\r\n            if (!self.selectiondrag) return;\r\n            if (self.hasTextSelected()) self.debounced(\"selectionscroll\", function () {\r\n              checkSelectionScroll(e);\r\n            }, 250);\r\n          };\r\n        }\r\n\r\n        if (cap.hasw3ctouch) { //IE11+\r\n          self.css((self.ispage) ? $(\"html\") : self.win, { 'touch-action': 'none' });\r\n          self.css(self.rail, {\r\n            'touch-action': 'none'\r\n          });\r\n          self.css(self.cursor, {\r\n            'touch-action': 'none'\r\n          });\r\n          self.bind(self.win, \"pointerdown\", self.ontouchstart);\r\n          self.bind(_doc, \"pointerup\", self.ontouchend);\r\n          self.delegate(_doc, \"pointermove\", self.ontouchmove);\r\n        } else if (cap.hasmstouch) { //IE10\r\n          self.css((self.ispage) ? $(\"html\") : self.win, { '-ms-touch-action': 'none' });\r\n          self.css(self.rail, {\r\n            '-ms-touch-action': 'none'\r\n          });\r\n          self.css(self.cursor, {\r\n            '-ms-touch-action': 'none'\r\n          });\r\n          self.bind(self.win, \"MSPointerDown\", self.ontouchstart);\r\n          self.bind(_doc, \"MSPointerUp\", self.ontouchend);\r\n          self.delegate(_doc, \"MSPointerMove\", self.ontouchmove);\r\n          self.bind(self.cursor, \"MSGestureHold\", function (e) {\r\n            e.preventDefault();\r\n          });\r\n          self.bind(self.cursor, \"contextmenu\", function (e) {\r\n            e.preventDefault();\r\n          });\r\n        } else if (cap.cantouch) { // smartphones/touch devices\r\n          self.bind(self.win, \"touchstart\", self.ontouchstart, false, true);\r\n          self.bind(_doc, \"touchend\", self.ontouchend, false, true);\r\n          self.bind(_doc, \"touchcancel\", self.ontouchend, false, true);\r\n          self.delegate(_doc, \"touchmove\", self.ontouchmove, false, true);\r\n        }\r\n\r\n        if (opt.emulatetouch) {\r\n          self.bind(self.win, \"mousedown\", self.ontouchstart, false, true);\r\n          self.bind(_doc, \"mouseup\", self.ontouchend, false, true);\r\n          self.bind(_doc, \"mousemove\", self.ontouchmove, false, true);\r\n        }\r\n\r\n        if (opt.cursordragontouch || (!cap.cantouch && !opt.emulatetouch)) {\r\n\r\n          self.rail.css({\r\n            cursor: \"default\"\r\n          });\r\n          self.railh && self.railh.css({\r\n            cursor: \"default\"\r\n          });\r\n\r\n          self.jqbind(self.rail, \"mouseenter\", function () {\r\n            if (!self.ispage && !self.win.is(\":visible\")) return false;\r\n            if (self.canshowonmouseevent) self.showCursor();\r\n            self.rail.active = true;\r\n          });\r\n          self.jqbind(self.rail, \"mouseleave\", function () {\r\n            self.rail.active = false;\r\n            if (!self.rail.drag) self.hideCursor();\r\n          });\r\n\r\n          if (opt.sensitiverail) {\r\n            self.bind(self.rail, \"click\", function (e) {\r\n              self.doRailClick(e, false, false);\r\n            });\r\n            self.bind(self.rail, \"dblclick\", function (e) {\r\n              self.doRailClick(e, true, false);\r\n            });\r\n            self.bind(self.cursor, \"click\", function (e) {\r\n              self.cancelEvent(e);\r\n            });\r\n            self.bind(self.cursor, \"dblclick\", function (e) {\r\n              self.cancelEvent(e);\r\n            });\r\n          }\r\n\r\n          if (self.railh) {\r\n            self.jqbind(self.railh, \"mouseenter\", function () {\r\n              if (!self.ispage && !self.win.is(\":visible\")) return false;\r\n              if (self.canshowonmouseevent) self.showCursor();\r\n              self.rail.active = true;\r\n            });\r\n            self.jqbind(self.railh, \"mouseleave\", function () {\r\n              self.rail.active = false;\r\n              if (!self.rail.drag) self.hideCursor();\r\n            });\r\n\r\n            if (opt.sensitiverail) {\r\n              self.bind(self.railh, \"click\", function (e) {\r\n                self.doRailClick(e, false, true);\r\n              });\r\n              self.bind(self.railh, \"dblclick\", function (e) {\r\n                self.doRailClick(e, true, true);\r\n              });\r\n              self.bind(self.cursorh, \"click\", function (e) {\r\n                self.cancelEvent(e);\r\n              });\r\n              self.bind(self.cursorh, \"dblclick\", function (e) {\r\n                self.cancelEvent(e);\r\n              });\r\n            }\r\n\r\n          }\r\n\r\n        }\r\n\r\n        if (opt.cursordragontouch && (this.istouchcapable || cap.cantouch)) {\r\n          self.bind(self.cursor, \"touchstart\", self.ontouchstartCursor);\r\n          self.bind(self.cursor, \"touchmove\", self.ontouchmoveCursor);\r\n          self.bind(self.cursor, \"touchend\", self.ontouchendCursor);\r\n          self.cursorh && self.bind(self.cursorh, \"touchstart\", function (e) {\r\n            self.ontouchstartCursor(e, true);\r\n          });\r\n          self.cursorh && self.bind(self.cursorh, \"touchmove\", self.ontouchmoveCursor);\r\n          self.cursorh && self.bind(self.cursorh, \"touchend\", self.ontouchendCursor);\r\n        }\r\n\r\n//        if (!cap.cantouch && !opt.emulatetouch) {\r\n        if (!opt.emulatetouch && !cap.isandroid && !cap.isios) {\r\n\r\n          self.bind((cap.hasmousecapture) ? self.win : _doc, \"mouseup\", self.onmouseup);\r\n          self.bind(_doc, \"mousemove\", self.onmousemove);\r\n          if (self.onclick) self.bind(_doc, \"click\", self.onclick);\r\n\r\n          self.bind(self.cursor, \"mousedown\", self.onmousedown);\r\n          self.bind(self.cursor, \"mouseup\", self.onmouseup);\r\n\r\n          if (self.railh) {\r\n            self.bind(self.cursorh, \"mousedown\", function (e) {\r\n              self.onmousedown(e, true);\r\n            });\r\n            self.bind(self.cursorh, \"mouseup\", self.onmouseup);\r\n          }\r\n\r\n          if (!self.ispage && opt.enablescrollonselection) {\r\n            self.bind(self.win[0], \"mousedown\", self.onselectionstart);\r\n            self.bind(_doc, \"mouseup\", self.onselectionend);\r\n            self.bind(self.cursor, \"mouseup\", self.onselectionend);\r\n            if (self.cursorh) self.bind(self.cursorh, \"mouseup\", self.onselectionend);\r\n            self.bind(_doc, \"mousemove\", self.onselectiondrag);\r\n          }\r\n\r\n          if (self.zoom) {\r\n            self.jqbind(self.zoom, \"mouseenter\", function () {\r\n              if (self.canshowonmouseevent) self.showCursor();\r\n              self.rail.active = true;\r\n            });\r\n            self.jqbind(self.zoom, \"mouseleave\", function () {\r\n              self.rail.active = false;\r\n              if (!self.rail.drag) self.hideCursor();\r\n            });\r\n          }\r\n\r\n        } else {\r\n\r\n          self.bind((cap.hasmousecapture) ? self.win : _doc, \"mouseup\", self.ontouchend);\r\n          if (self.onclick) self.bind(_doc, \"click\", self.onclick);\r\n\r\n          if (opt.cursordragontouch) {\r\n            self.bind(self.cursor, \"mousedown\", self.onmousedown);\r\n            self.bind(self.cursor, \"mouseup\", self.onmouseup);\r\n            self.cursorh && self.bind(self.cursorh, \"mousedown\", function (e) {\r\n              self.onmousedown(e, true);\r\n            });\r\n            self.cursorh && self.bind(self.cursorh, \"mouseup\", self.onmouseup);\r\n          } else {\r\n            self.bind(self.rail, \"mousedown\", function (e) { e.preventDefault(); });  // prevent text selection             \r\n            self.railh && self.bind(self.railh, \"mousedown\", function (e) { e.preventDefault(); });\r\n          }\r\n\r\n        }\r\n\r\n\r\n        if (opt.enablemousewheel) {\r\n          //if (!self.isiframe) self.mousewheel((cap.isie && self.ispage) ? _doc : self.win, self.onmousewheel);\r\n          if (!self.hasnativescroll && !self.isiframe) self.mousewheel(self.win, self.onmousewheel);\r\n          self.mousewheel(self.rail, self.onmousewheel);\r\n          if (self.railh) self.mousewheel(self.railh, self.onmousewheelhr);\r\n        }\r\n\r\n        if (!self.ispage && !cap.cantouch && !(/HTML|^BODY/.test(self.win[0].nodeName))) {\r\n          if (!self.win.attr(\"tabindex\")) self.win.attr({\r\n            \"tabindex\": ++tabindexcounter\r\n          });\r\n\r\n          self.bind(self.win, \"focus\", function (e) {  // better using native events\r\n            domfocus = (self.getTarget(e)).id || self.getTarget(e) || false;\r\n            self.hasfocus = true;\r\n            if (self.canshowonmouseevent) self.noticeCursor();\r\n          });\r\n          self.bind(self.win, \"blur\", function (e) {  // *\r\n            domfocus = false;\r\n            self.hasfocus = false;\r\n          });\r\n\r\n          self.bind(self.win, \"mouseenter\", function (e) {   // *\r\n            mousefocus = (self.getTarget(e)).id || self.getTarget(e) || false;\r\n            self.hasmousefocus = true;\r\n            if (self.canshowonmouseevent) self.noticeCursor();\r\n          });\r\n          self.bind(self.win, \"mouseleave\", function (e) {   // *       \r\n            mousefocus = false;\r\n            self.hasmousefocus = false;\r\n            if (!self.rail.drag) self.hideCursor();\r\n          });\r\n\r\n        }\r\n\r\n\r\n        //Thanks to http://www.quirksmode.org !!\r\n        self.onkeypress = function (e) {\r\n          if (self.railslocked && self.page.maxh === 0) return true;\r\n\r\n          e = e || _win.event;\r\n          var tg = self.getTarget(e);\r\n          if (tg && /INPUT|TEXTAREA|SELECT|OPTION/.test(tg.nodeName)) {\r\n            var tp = tg.getAttribute('type') || tg.type || false;\r\n            if ((!tp) || !(/submit|button|cancel/i.tp)) return true;\r\n          }\r\n\r\n          if ($(tg).attr('contenteditable')) return true;\r\n\r\n          if (self.hasfocus || (self.hasmousefocus && !domfocus) || (self.ispage && !domfocus && !mousefocus)) {\r\n            var key = e.keyCode;\r\n\r\n            if (self.railslocked && key != 27) return self.cancelEvent(e);\r\n\r\n            var ctrl = e.ctrlKey || false;\r\n            var shift = e.shiftKey || false;\r\n\r\n            var ret = false;\r\n            switch (key) {\r\n              case 38:\r\n              case 63233: //safari\r\n                self.doScrollBy(24 * 3);\r\n                ret = true;\r\n                break;\r\n              case 40:\r\n              case 63235: //safari\r\n                self.doScrollBy(-24 * 3);\r\n                ret = true;\r\n                break;\r\n              case 37:\r\n              case 63232: //safari\r\n                if (self.railh) {\r\n                  (ctrl) ? self.doScrollLeft(0) : self.doScrollLeftBy(24 * 3);\r\n                  ret = true;\r\n                }\r\n                break;\r\n              case 39:\r\n              case 63234: //safari\r\n                if (self.railh) {\r\n                  (ctrl) ? self.doScrollLeft(self.page.maxw) : self.doScrollLeftBy(-24 * 3);\r\n                  ret = true;\r\n                }\r\n                break;\r\n              case 33:\r\n              case 63276: // safari\r\n                self.doScrollBy(self.view.h);\r\n                ret = true;\r\n                break;\r\n              case 34:\r\n              case 63277: // safari\r\n                self.doScrollBy(-self.view.h);\r\n                ret = true;\r\n                break;\r\n              case 36:\r\n              case 63273: // safari                \r\n                (self.railh && ctrl) ? self.doScrollPos(0, 0) : self.doScrollTo(0);\r\n                ret = true;\r\n                break;\r\n              case 35:\r\n              case 63275: // safari\r\n                (self.railh && ctrl) ? self.doScrollPos(self.page.maxw, self.page.maxh) : self.doScrollTo(self.page.maxh);\r\n                ret = true;\r\n                break;\r\n              case 32:\r\n                if (opt.spacebarenabled) {\r\n                  (shift) ? self.doScrollBy(self.view.h) : self.doScrollBy(-self.view.h);\r\n                  ret = true;\r\n                }\r\n                break;\r\n              case 27: // ESC\r\n                if (self.zoomactive) {\r\n                  self.doZoom();\r\n                  ret = true;\r\n                }\r\n                break;\r\n            }\r\n            if (ret) return self.cancelEvent(e);\r\n          }\r\n        };\r\n\r\n        if (opt.enablekeyboard) self.bind(_doc, (cap.isopera && !cap.isopera12) ? \"keypress\" : \"keydown\", self.onkeypress);\r\n\r\n        self.bind(_doc, \"keydown\", function (e) {\r\n          var ctrl = e.ctrlKey || false;\r\n          if (ctrl) self.wheelprevented = true;\r\n        });\r\n        self.bind(_doc, \"keyup\", function (e) {\r\n          var ctrl = e.ctrlKey || false;\r\n          if (!ctrl) self.wheelprevented = false;\r\n        });\r\n        self.bind(_win, \"blur\", function (e) {\r\n          self.wheelprevented = false;\r\n        });\r\n\r\n        self.bind(_win, 'resize', self.onscreenresize);\r\n        self.bind(_win, 'orientationchange', self.onscreenresize);\r\n\r\n        self.bind(_win, \"load\", self.lazyResize);\r\n\r\n        if (cap.ischrome && !self.ispage && !self.haswrapper) { //chrome void scrollbar bug - it persists in version 26\r\n          var tmp = self.win.attr(\"style\");\r\n          var ww = parseFloat(self.win.css(\"width\")) + 1;\r\n          self.win.css('width', ww);\r\n          self.synched(\"chromefix\", function () {\r\n            self.win.attr(\"style\", tmp);\r\n          });\r\n        }\r\n\r\n\r\n        // Trying a cross-browser implementation - good luck!\r\n\r\n        self.onAttributeChange = function (e) {\r\n          self.lazyResize(self.isieold ? 250 : 30);\r\n        };\r\n\r\n        if (opt.enableobserver) {\r\n\r\n          if ((!self.isie11) && (ClsMutationObserver !== false)) {  // IE11 crashes  #568\r\n            self.observerbody = new ClsMutationObserver(function (mutations) {\r\n              mutations.forEach(function (mut) {\r\n                if (mut.type == \"attributes\") {\r\n                  return ($body.hasClass(\"modal-open\") && $body.hasClass(\"modal-dialog\") && !$.contains($('.modal-dialog')[0], self.doc[0])) ? self.hide() : self.show();  // Support for Bootstrap modal; Added check if the nice scroll element is inside a modal\r\n                }\r\n              });\r\n              if (self.me.clientWidth != self.page.w || self.me.clientHeight != self.page.h) return self.lazyResize(30);  // fix #834\r\n            });\r\n            self.observerbody.observe(_doc.body, {\r\n              childList: true,\r\n              subtree: true,\r\n              characterData: false,\r\n              attributes: true,\r\n              attributeFilter: ['class']\r\n            });\r\n          }\r\n\r\n          if (!self.ispage && !self.haswrapper) {\r\n\r\n            var _dom = self.win[0];\r\n\r\n            // redesigned MutationObserver for Chrome18+/Firefox14+/iOS6+ with support for: remove div, add/remove content\r\n            if (ClsMutationObserver !== false) {\r\n              self.observer = new ClsMutationObserver(function (mutations) {\r\n                mutations.forEach(self.onAttributeChange);\r\n              });\r\n              self.observer.observe(_dom, {\r\n                childList: true,\r\n                characterData: false,\r\n                attributes: true,\r\n                subtree: false\r\n              });\r\n              self.observerremover = new ClsMutationObserver(function (mutations) {\r\n                mutations.forEach(function (mo) {\r\n                  if (mo.removedNodes.length > 0) {\r\n                    for (var dd in mo.removedNodes) {\r\n                      if (!!self && (mo.removedNodes[dd] === _dom)) return self.remove();\r\n                    }\r\n                  }\r\n                });\r\n              });\r\n              self.observerremover.observe(_dom.parentNode, {\r\n                childList: true,\r\n                characterData: false,\r\n                attributes: false,\r\n                subtree: false\r\n              });\r\n            } else {\r\n              self.bind(_dom, (cap.isie && !cap.isie9) ? \"propertychange\" : \"DOMAttrModified\", self.onAttributeChange);\r\n              if (cap.isie9) _dom.attachEvent(\"onpropertychange\", self.onAttributeChange); //IE9 DOMAttrModified bug\r\n              self.bind(_dom, \"DOMNodeRemoved\", function (e) {\r\n                if (e.target === _dom) self.remove();\r\n              });\r\n            }\r\n          }\r\n\r\n        }\r\n\r\n        //\r\n\r\n        if (!self.ispage && opt.boxzoom) self.bind(_win, \"resize\", self.resizeZoom);\r\n        if (self.istextarea) {\r\n          self.bind(self.win, \"keydown\", self.lazyResize);\r\n          self.bind(self.win, \"mouseup\", self.lazyResize);\r\n        }\r\n\r\n        self.lazyResize(30);\r\n\r\n      }\r\n\r\n      if (this.doc[0].nodeName == 'IFRAME') {\r\n        var oniframeload = function () {\r\n          self.iframexd = false;\r\n          var doc;\r\n          try {\r\n            doc = 'contentDocument' in this ? this.contentDocument : this.contentWindow._doc;\r\n            var a = doc.domain;\r\n          } catch (e) {\r\n            self.iframexd = true;\r\n            doc = false;\r\n          }\r\n\r\n          if (self.iframexd) {\r\n            if (\"console\" in _win) console.log('NiceScroll error: policy restriced iframe');\r\n            return true; //cross-domain - I can't manage this        \r\n          }\r\n\r\n          self.forcescreen = true;\r\n\r\n          if (self.isiframe) {\r\n            self.iframe = {\r\n              \"doc\": $(doc),\r\n              \"html\": self.doc.contents().find('html')[0],\r\n              \"body\": self.doc.contents().find('body')[0]\r\n            };\r\n            self.getContentSize = function () {\r\n              return {\r\n                w: Math.max(self.iframe.html.scrollWidth, self.iframe.body.scrollWidth),\r\n                h: Math.max(self.iframe.html.scrollHeight, self.iframe.body.scrollHeight)\r\n              };\r\n            };\r\n            self.docscroll = $(self.iframe.body);\r\n          }\r\n\r\n          if (!cap.isios && opt.iframeautoresize && !self.isiframe) { // CHECKME\r\n            self.win.scrollTop(0); // reset position\r\n            self.doc.height(\"\"); //reset height to fix browser bug\r\n            var hh = Math.max(doc.getElementsByTagName('html')[0].scrollHeight, doc.body.scrollHeight);\r\n            self.doc.height(hh);\r\n          }\r\n          self.lazyResize(30);\r\n\r\n          self.css($(self.iframe.body), _scrollyhidden);\r\n\r\n          if (cap.isios && self.haswrapper) {\r\n            self.css($(doc.body), {\r\n              '-webkit-transform': 'translate3d(0,0,0)'\r\n            }); // avoid iFrame content clipping - thanks to http://blog.derraab.com/2012/04/02/avoid-iframe-content-clipping-with-css-transform-on-ios/\r\n          }\r\n\r\n          if ('contentWindow' in this) {\r\n            self.bind(this.contentWindow, \"scroll\", self.onscroll); //IE8 & minor\r\n          } else {\r\n            self.bind(doc, \"scroll\", self.onscroll);\r\n          }\r\n\r\n          if (opt.enablemousewheel) {\r\n            self.mousewheel(doc, self.onmousewheel);\r\n          }\r\n\r\n          if (opt.enablekeyboard) self.bind(doc, (cap.isopera) ? \"keypress\" : \"keydown\", self.onkeypress);\r\n\r\n          if (cap.cantouch) {\r\n            self.bind(doc, \"touchstart\", self.ontouchstart);\r\n            self.bind(doc, \"touchmove\", self.ontouchmove);\r\n          }\r\n          else if (opt.emulatetouch) {\r\n            self.bind(doc, \"mousedown\", self.ontouchstart);\r\n            self.bind(doc, \"mousemove\", function (e) {\r\n              return self.ontouchmove(e, true);\r\n            });\r\n            if (opt.grabcursorenabled && cap.cursorgrabvalue) self.css($(doc.body), {\r\n              'cursor': cap.cursorgrabvalue\r\n            });\r\n          }\r\n\r\n          self.bind(doc, \"mouseup\", self.ontouchend);\r\n\r\n          if (self.zoom) {\r\n            if (opt.dblclickzoom) self.bind(doc, 'dblclick', self.doZoom);\r\n            if (self.ongesturezoom) self.bind(doc, \"gestureend\", self.ongesturezoom);\r\n          }\r\n        };\r\n\r\n        if (this.doc[0].readyState && this.doc[0].readyState === \"complete\") {\r\n          setTimeout(function () {\r\n            oniframeload.call(self.doc[0], false);\r\n          }, 500);\r\n        }\r\n        self.bind(this.doc, \"load\", oniframeload);\r\n\r\n      }\r\n\r\n    };\r\n\r\n    this.showCursor = function (py, px) {\r\n      if (self.cursortimeout) {\r\n        clearTimeout(self.cursortimeout);\r\n        self.cursortimeout = 0;\r\n      }\r\n      if (!self.rail) return;\r\n      if (self.autohidedom) {\r\n        self.autohidedom.stop().css({\r\n          opacity: opt.cursoropacitymax\r\n        });\r\n        self.cursoractive = true;\r\n      }\r\n\r\n      if (!self.rail.drag || self.rail.drag.pt != 1) {\r\n        if (py !== undefined && py !== false) {\r\n          self.scroll.y = (py / self.scrollratio.y) | 0;\r\n        }\r\n        if (px !== undefined) {\r\n          self.scroll.x = (px / self.scrollratio.x) | 0;\r\n        }\r\n      }\r\n\r\n      self.cursor.css({\r\n        height: self.cursorheight,\r\n        top: self.scroll.y\r\n      });\r\n      if (self.cursorh) {\r\n        var lx = (self.hasreversehr) ? self.scrollvaluemaxw - self.scroll.x : self.scroll.x;\r\n        self.cursorh.css({\r\n          width: self.cursorwidth,\r\n          left: (!self.rail.align && self.rail.visibility) ? lx + self.rail.width : lx\r\n        });\r\n        self.cursoractive = true;\r\n      }\r\n\r\n      if (self.zoom) self.zoom.stop().css({\r\n        opacity: opt.cursoropacitymax\r\n      });\r\n    };\r\n\r\n    this.hideCursor = function (tm) {\r\n      if (self.cursortimeout) return;\r\n      if (!self.rail) return;\r\n      if (!self.autohidedom) return;\r\n\r\n      if (self.hasmousefocus && opt.autohidemode === \"leave\") return;\r\n      self.cursortimeout = setTimeout(function () {\r\n        if (!self.rail.active || !self.showonmouseevent) {\r\n          self.autohidedom.stop().animate({\r\n            opacity: opt.cursoropacitymin\r\n          });\r\n          if (self.zoom) self.zoom.stop().animate({\r\n            opacity: opt.cursoropacitymin\r\n          });\r\n          self.cursoractive = false;\r\n        }\r\n        self.cursortimeout = 0;\r\n      }, tm || opt.hidecursordelay);\r\n    };\r\n\r\n    this.noticeCursor = function (tm, py, px) {\r\n      self.showCursor(py, px);\r\n      if (!self.rail.active) self.hideCursor(tm);\r\n    };\r\n\r\n    this.getContentSize =\r\n      (self.ispage) ?\r\n        function () {\r\n          return {\r\n            w: Math.max(_doc.body.scrollWidth, _doc.documentElement.scrollWidth),\r\n            h: Math.max(_doc.body.scrollHeight, _doc.documentElement.scrollHeight)\r\n          };\r\n        } : (self.haswrapper) ?\r\n          function () {\r\n            return {\r\n              w: self.doc[0].offsetWidth,\r\n              h: self.doc[0].offsetHeight\r\n            };\r\n          } : function () {\r\n            return {\r\n              w: self.docscroll[0].scrollWidth,\r\n              h: self.docscroll[0].scrollHeight\r\n            };\r\n          };\r\n\r\n    this.onResize = function (e, page) {\r\n\r\n      if (!self || !self.win) return false;\r\n\r\n      var premaxh = self.page.maxh,\r\n          premaxw = self.page.maxw,\r\n          previewh = self.view.h,\r\n          previeww = self.view.w;\r\n\r\n      self.view = {\r\n        w: (self.ispage) ? self.win.width() : self.win[0].clientWidth,\r\n        h: (self.ispage) ? self.win.height() : self.win[0].clientHeight\r\n      };\r\n\r\n      self.page = (page) ? page : self.getContentSize();\r\n\r\n      self.page.maxh = Math.max(0, self.page.h - self.view.h);\r\n      self.page.maxw = Math.max(0, self.page.w - self.view.w);\r\n\r\n      if ((self.page.maxh == premaxh) && (self.page.maxw == premaxw) && (self.view.w == previeww) && (self.view.h == previewh)) {\r\n        // test position        \r\n        if (!self.ispage) {\r\n          var pos = self.win.offset();\r\n          if (self.lastposition) {\r\n            var lst = self.lastposition;\r\n            if ((lst.top == pos.top) && (lst.left == pos.left)) return self; //nothing to do            \r\n          }\r\n          self.lastposition = pos;\r\n        } else {\r\n          return self; //nothing to do\r\n        }\r\n      }\r\n\r\n      if (self.page.maxh === 0) {\r\n        self.hideRail();\r\n        self.scrollvaluemax = 0;\r\n        self.scroll.y = 0;\r\n        self.scrollratio.y = 0;\r\n        self.cursorheight = 0;\r\n        self.setScrollTop(0);\r\n        if (self.rail) self.rail.scrollable = false;\r\n      } else {\r\n        self.page.maxh -= (opt.railpadding.top + opt.railpadding.bottom);\r\n        self.rail.scrollable = true;\r\n      }\r\n\r\n      if (self.page.maxw === 0) {\r\n        self.hideRailHr();\r\n        self.scrollvaluemaxw = 0;\r\n        self.scroll.x = 0;\r\n        self.scrollratio.x = 0;\r\n        self.cursorwidth = 0;\r\n        self.setScrollLeft(0);\r\n        if (self.railh) {\r\n          self.railh.scrollable = false;\r\n        }\r\n      } else {\r\n        self.page.maxw -= (opt.railpadding.left + opt.railpadding.right);\r\n        if (self.railh) self.railh.scrollable = (opt.horizrailenabled);\r\n      }\r\n\r\n      self.railslocked = (self.locked) || ((self.page.maxh === 0) && (self.page.maxw === 0));\r\n      if (self.railslocked) {\r\n        if (!self.ispage) self.updateScrollBar(self.view);\r\n        return false;\r\n      }\r\n\r\n      if (!self.hidden) {\r\n        if (!self.rail.visibility) self.showRail();\r\n        if (self.railh && !self.railh.visibility) self.showRailHr();\r\n      }\r\n\r\n      if (self.istextarea && self.win.css('resize') && self.win.css('resize') != 'none') self.view.h -= 20;\r\n\r\n      self.cursorheight = Math.min(self.view.h, Math.round(self.view.h * (self.view.h / self.page.h)));\r\n      self.cursorheight = (opt.cursorfixedheight) ? opt.cursorfixedheight : Math.max(opt.cursorminheight, self.cursorheight);\r\n\r\n      self.cursorwidth = Math.min(self.view.w, Math.round(self.view.w * (self.view.w / self.page.w)));\r\n      self.cursorwidth = (opt.cursorfixedheight) ? opt.cursorfixedheight : Math.max(opt.cursorminheight, self.cursorwidth);\r\n\r\n      self.scrollvaluemax = self.view.h - self.cursorheight - (opt.railpadding.top + opt.railpadding.bottom);\r\n      if (!self.hasborderbox) self.scrollvaluemax -= self.cursor[0].offsetHeight - self.cursor[0].clientHeight;\r\n\r\n      if (self.railh) {\r\n        self.railh.width = (self.page.maxh > 0) ? (self.view.w - self.rail.width) : self.view.w;\r\n        self.scrollvaluemaxw = self.railh.width - self.cursorwidth - (opt.railpadding.left + opt.railpadding.right);\r\n      }\r\n\r\n      if (!self.ispage) self.updateScrollBar(self.view);\r\n\r\n      self.scrollratio = {\r\n        x: (self.page.maxw / self.scrollvaluemaxw),\r\n        y: (self.page.maxh / self.scrollvaluemax)\r\n      };\r\n\r\n      var sy = self.getScrollTop();\r\n      if (sy > self.page.maxh) {\r\n        self.doScrollTop(self.page.maxh);\r\n      } else {\r\n        self.scroll.y = (self.getScrollTop() / self.scrollratio.y) | 0;\r\n        self.scroll.x = (self.getScrollLeft() / self.scrollratio.x) | 0;\r\n        if (self.cursoractive) self.noticeCursor();\r\n      }\r\n\r\n      if (self.scroll.y && (self.getScrollTop() === 0)) self.doScrollTo((self.scroll.y * self.scrollratio.y)|0);\r\n\r\n      return self;\r\n    };\r\n\r\n    this.resize = self.onResize;\r\n\r\n    var hlazyresize = 0;\r\n\r\n    this.onscreenresize = function(e) {\r\n      clearTimeout(hlazyresize);\r\n\r\n      var hiderails = (!self.ispage && !self.haswrapper);\r\n      if (hiderails) self.hideRails();\r\n\r\n      hlazyresize = setTimeout(function () {\r\n        if (self) {\r\n          if (hiderails) self.showRails();\r\n          self.resize();\r\n        }\r\n        hlazyresize=0;\r\n      }, 120);\r\n    };\r\n\r\n    this.lazyResize = function (tm) { // event debounce\r\n\r\n      clearTimeout(hlazyresize);\r\n\r\n      tm = isNaN(tm) ? 240 : tm;\r\n\r\n      hlazyresize = setTimeout(function () {\r\n        self && self.resize();\r\n        hlazyresize=0;\r\n      }, tm);\r\n\r\n      return self;\r\n\r\n    };\r\n\r\n    // derived by MDN https://developer.mozilla.org/en-US/docs/DOM/Mozilla_event_reference/wheel\r\n    function _modernWheelEvent(dom, name, fn, bubble) {\r\n      self._bind(dom, name, function (e) {\r\n        e = e || _win.event;\r\n        var event = {\r\n          original: e,\r\n          target: e.target || e.srcElement,\r\n          type: \"wheel\",\r\n          deltaMode: e.type == \"MozMousePixelScroll\" ? 0 : 1,\r\n          deltaX: 0,\r\n          deltaZ: 0,\r\n          preventDefault: function () {\r\n            e.preventDefault ? e.preventDefault() : e.returnValue = false;\r\n            return false;\r\n          },\r\n          stopImmediatePropagation: function () {\r\n            (e.stopImmediatePropagation) ? e.stopImmediatePropagation() : e.cancelBubble = true;\r\n          }\r\n        };\r\n\r\n        if (name == \"mousewheel\") {\r\n          e.wheelDeltaX && (event.deltaX = -1 / 40 * e.wheelDeltaX);\r\n          e.wheelDeltaY && (event.deltaY = -1 / 40 * e.wheelDeltaY);\r\n          !event.deltaY && !event.deltaX && (event.deltaY = -1 / 40 * e.wheelDelta);\r\n        } else {\r\n          event.deltaY = e.detail;\r\n        }\r\n\r\n        return fn.call(dom, event);\r\n      }, bubble);\r\n    }\r\n\r\n\r\n\r\n    this.jqbind = function (dom, name, fn) { // use jquery bind for non-native events (mouseenter/mouseleave)\r\n      self.events.push({\r\n        e: dom,\r\n        n: name,\r\n        f: fn,\r\n        q: true\r\n      });\r\n      $(dom).on(name, fn);\r\n    };\r\n\r\n    this.mousewheel = function (dom, fn, bubble) { // bind mousewheel\r\n      var el = (\"jquery\" in dom) ? dom[0] : dom;\r\n      self._bind(el, \"wheel\", fn, bubble || false);\r\n    };\r\n\r\n    var passiveSupported = false;\r\n\r\n    if (cap.haseventlistener) {  // W3C standard event model\r\n\r\n      // thanks to https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener\r\n      try { var options = Object.defineProperty({}, \"passive\", { get: function () { passiveSupported = !0; } }); _win.addEventListener(\"test\", null, options); } catch (err) { }\r\n\r\n      this.stopPropagation = function (e) {\r\n        if (!e) return false;\r\n        e = (e.original) ? e.original : e;\r\n        e.stopPropagation();\r\n        return false;\r\n      };\r\n\r\n      this.cancelEvent = function(e) {\r\n        if (e.cancelable) e.preventDefault();\r\n        e.stopImmediatePropagation();\r\n        if (e.preventManipulation) e.preventManipulation();  // IE10+\r\n        return false;\r\n      };      \r\n\r\n    } else {\r\n\r\n      // inspired from https://gist.github.com/jonathantneal/2415137      \r\n\r\n      Event.prototype.preventDefault = function () {\r\n        this.returnValue = false;\r\n      };\r\n\r\n      Event.prototype.stopPropagation = function () {\r\n        this.cancelBubble = true;\r\n      };\r\n\r\n      _win.constructor.prototype.addEventListener = _doc.constructor.prototype.addEventListener = Element.prototype.addEventListener = function (type, listener, useCapture) {\r\n        this.attachEvent(\"on\" + type, listener);\r\n      };\r\n      _win.constructor.prototype.removeEventListener = _doc.constructor.prototype.removeEventListener = Element.prototype.removeEventListener = function (type, listener, useCapture) {\r\n        this.detachEvent(\"on\" + type, listener);\r\n      };\r\n\r\n      // Thanks to http://www.switchonthecode.com !!\r\n      this.cancelEvent = function (e) {\r\n        e = e || _win.event;\r\n        if (e) {          \r\n          e.cancelBubble = true;\r\n          e.cancel = true;\r\n          e.returnValue = false;\r\n        }  \r\n        return false;\r\n      };\r\n\r\n      this.stopPropagation = function (e) {\r\n        e = e || _win.event;\r\n        if (e) e.cancelBubble = true;\r\n        return false;\r\n      };\r\n\r\n    }\r\n\r\n    this.delegate = function (dom, name, fn, bubble, active) {\r\n\r\n      var de = delegatevents[name] || false;\r\n\r\n      if (!de) {\r\n\r\n        de = {\r\n          a: [],\r\n          l: [],\r\n          f: function (e) {\r\n            var lst = de.l, l = lst.length - 1;\r\n            var r = false;\r\n            for (var a = l; a >= 0; a--) {\r\n              r = lst[a].call(e.target, e);\r\n              if (r === false) return false;\r\n            }\r\n            return r;\r\n          }\r\n        };\r\n\r\n        self.bind(dom, name, de.f, bubble, active);\r\n\r\n        delegatevents[name] = de;\r\n\r\n      } else {\r\n        self.events.push({\r\n          e: dom,\r\n          n: name,\r\n          f: fn,\r\n          b: bubble,\r\n          q: false\r\n        });\r\n      }\r\n\r\n      if (self.ispage) {\r\n        de.a = [self.id].concat(de.a);\r\n        de.l = [fn].concat(de.l);\r\n      } else {\r\n        de.a.push(self.id);\r\n        de.l.push(fn);        \r\n      }\r\n\r\n    };\r\n\r\n    this.undelegate = function (dom, name, fn, bubble, active) {\r\n      var de = delegatevents[name]||false;\r\n      if (de&&de.l) {  // quick fix #683\r\n        for (var a=0,l=de.l.length;a<l;a++) {\r\n          if (de.a[a] === self.id) {\r\n            de.a.splice(a);\r\n            de.l.splice(a);\r\n            if (de.a.length===0) {\r\n              self._unbind(dom,name,de.l.f);\r\n              delegatevents[name] = null;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    };\r\n\r\n    this.bind = function (dom, name, fn, bubble, active) {\r\n      var el = (\"jquery\" in dom) ? dom[0] : dom;\r\n      self._bind(el, name, fn, bubble || false, active || false);\r\n    };\r\n\r\n    this._bind = function (el, name, fn, bubble, active) { // primitive bind\r\n\r\n      self.events.push({\r\n        e: el,\r\n        n: name,\r\n        f: fn,\r\n        b: bubble,\r\n        q: false\r\n      });\r\n\r\n      //https://github.com/inuyaksa/jquery.nicescroll/issues/825#issuecomment-735423931\r\n      //(passiveSupported && active) ? el.addEventListener(name, fn, { passive: false, capture: bubble }) : el.addEventListener(name, fn, bubble || false);\r\n      (passiveSupported && (active || el == window.document || el == window.document.body || el == window)) ? el.addEventListener(name, fn, { passive: false, capture: bubble }) : el.addEventListener(name, fn, bubble || false);\r\n    };\r\n\r\n    this._unbind = function (el, name, fn, bub) { // primitive unbind\r\n      if (delegatevents[name]) self.undelegate(el, name, fn, bub);\r\n      else el.removeEventListener(name, fn, bub);\r\n    };\r\n\r\n    this.unbindAll = function () {\r\n      for (var a = 0; a < self.events.length; a++) {\r\n        var r = self.events[a];\r\n        (r.q) ? r.e.unbind(r.n, r.f) : self._unbind(r.e, r.n, r.f, r.b);\r\n      }\r\n    };\r\n\r\n    this.showRails = function () {\r\n      return self.showRail().showRailHr();\r\n    };\r\n\r\n    this.showRail = function () {\r\n      if ((self.page.maxh !== 0) && (self.ispage || self.win.css('display') != 'none')) {\r\n        //self.visibility = true;\r\n        self.rail.visibility = true;\r\n        self.rail.css('display', 'block');\r\n      }\r\n      return self;\r\n    };\r\n\r\n    this.showRailHr = function () {\r\n      if (self.railh) {\r\n        if ((self.page.maxw !== 0) && (self.ispage || self.win.css('display') != 'none')) {\r\n          self.railh.visibility = true;\r\n          self.railh.css('display', 'block');\r\n        }\r\n      }\r\n      return self;\r\n    };\r\n\r\n    this.hideRails = function () {\r\n      return self.hideRail().hideRailHr();\r\n    };\r\n\r\n    this.hideRail = function () {\r\n      //self.visibility = false;\r\n      self.rail.visibility = false;\r\n      self.rail.css('display', 'none');\r\n      return self;\r\n    };\r\n\r\n    this.hideRailHr = function () {\r\n      if (self.railh) {\r\n        self.railh.visibility = false;\r\n        self.railh.css('display', 'none');\r\n      }\r\n      return self;\r\n    };\r\n\r\n    this.show = function () {\r\n      self.hidden = false;\r\n      self.railslocked = false;\r\n      return self.showRails();\r\n    };\r\n\r\n    this.hide = function () {\r\n      self.hidden = true;\r\n      self.railslocked = true;\r\n      return self.hideRails();\r\n    };\r\n\r\n    this.toggle = function () {\r\n      return (self.hidden) ? self.show() : self.hide();\r\n    };\r\n\r\n    this.remove = function () {\r\n      self.stop();\r\n      if (self.cursortimeout) clearTimeout(self.cursortimeout);\r\n      for (var n in self.delaylist) if (self.delaylist[n]) clearAnimationFrame(self.delaylist[n].h);\r\n      self.doZoomOut();\r\n      //https://github.com/inuyaksa/jquery.nicescroll/pull/814/commits/43f37b9b79c40ceef4fe797c9d5dfc2a5913cdee\r\n      if (cap.hasw3ctouch) { //IE11+\r\n        self.undelegate(_doc, \"pointermove\", self.ontouchmove);\r\n      } else if (cap.hasmstouch) { //IE10\r\n        self.undelegate(_doc, \"MSPointerMove\", self.ontouchmove);\r\n      } else if (cap.cantouch) { // smartphones/touch devices\r\n        self.undelegate(_doc, \"touchmove\", self.ontouchmove, false, true);\r\n      }\r\n      self.unbindAll();\r\n\r\n      if (cap.isie9) self.win[0].detachEvent(\"onpropertychange\", self.onAttributeChange); //IE9 DOMAttrModified bug\r\n\r\n      if (self.observer !== false) self.observer.disconnect();\r\n      if (self.observerremover !== false) self.observerremover.disconnect();\r\n      if (self.observerbody !== false) self.observerbody.disconnect();\r\n\r\n      self.events = null;\r\n\r\n      if (self.cursor) {\r\n        self.cursor.remove();\r\n      }\r\n      if (self.cursorh) {\r\n        self.cursorh.remove();\r\n      }\r\n      if (self.rail) {\r\n        self.rail.remove();\r\n      }\r\n      if (self.railh) {\r\n        self.railh.remove();\r\n      }\r\n      if (self.zoom) {\r\n        self.zoom.remove();\r\n      }\r\n      for (var a = 0; a < self.saved.css.length; a++) {\r\n        var d = self.saved.css[a];\r\n        d[0].css(d[1], (d[2] === undefined) ? '' : d[2]);\r\n      }\r\n      self.saved = false;\r\n      self.me.data('__nicescroll', ''); //erase all traces\r\n\r\n      // memory leak fixed by GianlucaGuarini - thanks a lot!\r\n      // remove the current nicescroll from the $.nicescroll array & normalize array\r\n      var lst = $.nicescroll;\r\n      lst.each(function (i) {\r\n        if (!this) return;\r\n        if (this.id === self.id) {\r\n          delete lst[i];\r\n          for (var b = ++i; b < lst.length; b++ , i++) lst[i] = lst[b];\r\n          lst.length--;\r\n          if (lst.length) delete lst[lst.length];\r\n        }\r\n      });\r\n\r\n      for (var i in self) {\r\n        self[i] = null;\r\n        delete self[i];\r\n      }\r\n\r\n      self = null;\r\n\r\n    };\r\n\r\n    this.scrollstart = function (fn) {\r\n      this.onscrollstart = fn;\r\n      return self;\r\n    };\r\n    this.scrollend = function (fn) {\r\n      this.onscrollend = fn;\r\n      return self;\r\n    };\r\n    this.scrollcancel = function (fn) {\r\n      this.onscrollcancel = fn;\r\n      return self;\r\n    };\r\n\r\n    this.zoomin = function (fn) {\r\n      this.onzoomin = fn;\r\n      return self;\r\n    };\r\n    this.zoomout = function (fn) {\r\n      this.onzoomout = fn;\r\n      return self;\r\n    };\r\n\r\n    this.isScrollable = function (e) {\r\n      var dom = (e.target) ? e.target : e;\r\n      if (dom.nodeName == 'OPTION') return true;\r\n      while (dom && (dom.nodeType == 1) && (dom !== this.me[0]) && !(/^BODY|HTML/.test(dom.nodeName))) {\r\n        var dd = $(dom);\r\n        var ov = dd.css('overflowY') || dd.css('overflowX') || dd.css('overflow') || '';\r\n        if (/scroll|auto/.test(ov)) return (dom.clientHeight != dom.scrollHeight);\r\n        dom = (dom.parentNode) ? dom.parentNode : false;\r\n      }\r\n      return false;\r\n    };\r\n\r\n    this.getViewport = function (me) {\r\n      var dom = (me && me.parentNode) ? me.parentNode : false;\r\n      while (dom && (dom.nodeType == 1) && !(/^BODY|HTML/.test(dom.nodeName))) {\r\n        var dd = $(dom);\r\n        if (/fixed|absolute/.test(dd.css(\"position\"))) return dd;\r\n        var ov = dd.css('overflowY') || dd.css('overflowX') || dd.css('overflow') || '';\r\n        if ((/scroll|auto/.test(ov)) && (dom.clientHeight != dom.scrollHeight)) return dd;\r\n        if (dd.getNiceScroll().length > 0) return dd;\r\n        dom = (dom.parentNode) ? dom.parentNode : false;\r\n      }\r\n      return false;\r\n    };\r\n\r\n    this.triggerScrollStart = function (cx, cy, rx, ry, ms) {\r\n\r\n      if (self.onscrollstart) {\r\n        var info = {\r\n          type: \"scrollstart\",\r\n          current: {\r\n            x: cx,\r\n            y: cy\r\n          },\r\n          request: {\r\n            x: rx,\r\n            y: ry\r\n          },\r\n          end: {\r\n            x: self.newscrollx,\r\n            y: self.newscrolly\r\n          },\r\n          speed: ms\r\n        };\r\n        self.onscrollstart.call(self, info);\r\n      }\r\n\r\n    };\r\n\r\n    this.triggerScrollEnd = function () {\r\n      if (self.onscrollend) {\r\n\r\n        var px = self.getScrollLeft();\r\n        var py = self.getScrollTop();\r\n\r\n        var info = {\r\n          type: \"scrollend\",\r\n          current: {\r\n            x: px,\r\n            y: py\r\n          },\r\n          end: {\r\n            x: px,\r\n            y: py\r\n          }\r\n        };\r\n\r\n        self.onscrollend.call(self, info);\r\n\r\n      }\r\n\r\n    };\r\n\r\n    var scrolldiry = 0, scrolldirx = 0, scrolltmr = 0, scrollspd = 1;\r\n\r\n    function doScrollRelative(px, py, chkscroll, iswheel) {\r\n\r\n      if (!self.scrollrunning) {\r\n        self.newscrolly = self.getScrollTop();\r\n        self.newscrollx = self.getScrollLeft();\r\n        scrolltmr = now();\r\n      }\r\n\r\n      var gap = (now() - scrolltmr);\r\n      scrolltmr = now();\r\n\r\n      if (gap > 350) {\r\n        scrollspd = 1;\r\n      } else {\r\n        scrollspd += (2 - scrollspd) / 10;\r\n      }\r\n\r\n      px = px * scrollspd | 0;\r\n      py = py * scrollspd | 0;\r\n\r\n      if (px) {\r\n\r\n        if (iswheel) { // mouse-only\r\n          if (px < 0) {  // fix apple magic mouse swipe back/forward\r\n            if (self.getScrollLeft() >= self.page.maxw) return true;\r\n          } else {\r\n            if (self.getScrollLeft() <= 0) return true;\r\n          }\r\n        }\r\n\r\n        var dx = px > 0 ? 1 : -1;\r\n\r\n        if (scrolldirx !== dx) {\r\n          if (self.scrollmom) self.scrollmom.stop();\r\n          self.newscrollx = self.getScrollLeft();\r\n          scrolldirx = dx;\r\n        }\r\n\r\n        self.lastdeltax -= px;\r\n\r\n      }\r\n\r\n      if (py) {\r\n\r\n        var chk = (function () {\r\n          var top = self.getScrollTop();\r\n          if (py < 0) {\r\n            if (top >= self.page.maxh) return true;\r\n          } else {\r\n            if (top <= 0) return true;\r\n          }\r\n        })();\r\n\r\n        if (chk) {\r\n          if (opt.nativeparentscrolling && chkscroll && !self.ispage && !self.zoomactive) return true;\r\n          var ny = self.view.h >> 1;\r\n          if (self.newscrolly < -ny) { self.newscrolly = -ny; py = -1; }\r\n          else if (self.newscrolly > self.page.maxh + ny) { self.newscrolly = self.page.maxh + ny; py = 1; }\r\n          else py = 0;\r\n        }\r\n\r\n        var dy = py > 0 ? 1 : -1;\r\n\r\n        if (scrolldiry !== dy) {\r\n          if (self.scrollmom) self.scrollmom.stop();\r\n          self.newscrolly = self.getScrollTop();\r\n          scrolldiry = dy;\r\n        }\r\n\r\n        self.lastdeltay -= py;\r\n\r\n      }\r\n\r\n      if (py || px) {\r\n        self.synched(\"relativexy\", function () {\r\n\r\n          var dty = self.lastdeltay + self.newscrolly;\r\n          self.lastdeltay = 0;\r\n\r\n          var dtx = self.lastdeltax + self.newscrollx;\r\n          self.lastdeltax = 0;\r\n\r\n          if (!self.rail.drag) self.doScrollPos(dtx, dty);\r\n\r\n        });\r\n      }\r\n\r\n    }\r\n\r\n    var hasparentscrollingphase = false;\r\n\r\n    function execScrollWheel(e, hr, chkscroll) {\r\n      var px, py;\r\n\r\n      if (!chkscroll && hasparentscrollingphase) return true;\r\n\r\n      if (e.deltaMode === 0) { // PIXEL\r\n        px = -(e.deltaX * (opt.mousescrollstep / (18 * 3))) | 0;\r\n        py = -(e.deltaY * (opt.mousescrollstep / (18 * 3))) | 0;\r\n      } else if (e.deltaMode === 1) { // LINE\r\n        px = -(e.deltaX * opt.mousescrollstep * 50 / 80) | 0;\r\n        py = -(e.deltaY * opt.mousescrollstep * 50 / 80) | 0;\r\n      }\r\n\r\n      if (hr && opt.oneaxismousemode && (px === 0) && py) { // classic vertical-only mousewheel + browser with x/y support \r\n        px = py;\r\n        py = 0;\r\n\r\n        if (chkscroll) {\r\n          var hrend = (px < 0) ? (self.getScrollLeft() >= self.page.maxw) : (self.getScrollLeft() <= 0);\r\n          if (hrend) {  // preserve vertical scrolling\r\n            py = px;\r\n            px = 0;\r\n          }\r\n        }\r\n\r\n      }\r\n\r\n      // invert horizontal direction for rtl mode\r\n      if (self.isrtlmode) px = -px;\r\n\r\n      var chk = doScrollRelative(px, py, chkscroll, true);\r\n\r\n      if (chk) {\r\n        if (chkscroll) hasparentscrollingphase = true;\r\n      } else {\r\n        hasparentscrollingphase = false;\r\n        e.stopImmediatePropagation();\r\n        return e.preventDefault();\r\n      }\r\n\r\n    }\r\n\r\n    this.onmousewheel = function (e) {\r\n      if (self.wheelprevented||self.locked) return false;\r\n      if (self.railslocked) {\r\n        self.debounced(\"checkunlock\", self.resize, 250);\r\n        return false;\r\n      }\r\n      if (self.rail.drag) return self.cancelEvent(e);\r\n\r\n      if (opt.oneaxismousemode === \"auto\" && e.deltaX !== 0) opt.oneaxismousemode = false; // check two-axis mouse support (not very elegant)\r\n\r\n      if (opt.oneaxismousemode && e.deltaX === 0) {\r\n        if (!self.rail.scrollable) {\r\n          if (self.railh && self.railh.scrollable) {\r\n            return self.onmousewheelhr(e);\r\n          } else {\r\n            return true;\r\n          }\r\n        }\r\n      }\r\n\r\n      var nw = now();\r\n      var chk = false;\r\n      if (opt.preservenativescrolling && ((self.checkarea + 600) < nw)) {\r\n        self.nativescrollingarea = self.isScrollable(e);\r\n        chk = true;\r\n      }\r\n      self.checkarea = nw;\r\n      if (self.nativescrollingarea) return true; // this isn't my business\r\n      var ret = execScrollWheel(e, false, chk);\r\n      if (ret) self.checkarea = 0;\r\n      return ret;\r\n    };\r\n\r\n    this.onmousewheelhr = function (e) {\r\n      if (self.wheelprevented) return;\r\n      if (self.railslocked || !self.railh.scrollable) return true;\r\n      if (self.rail.drag) return self.cancelEvent(e);\r\n\r\n      var nw = now();\r\n      var chk = false;\r\n      if (opt.preservenativescrolling && ((self.checkarea + 600) < nw)) {\r\n        self.nativescrollingarea = self.isScrollable(e);\r\n        chk = true;\r\n      }\r\n      self.checkarea = nw;\r\n      if (self.nativescrollingarea) return true; // this is not my business\r\n      if (self.railslocked) return self.cancelEvent(e);\r\n\r\n      return execScrollWheel(e, true, chk);\r\n    };\r\n\r\n    this.stop = function () {\r\n      self.cancelScroll();\r\n      if (self.scrollmon) self.scrollmon.stop();\r\n      self.cursorfreezed = false;\r\n      self.scroll.y = Math.round(self.getScrollTop() * (1 / self.scrollratio.y));\r\n      self.noticeCursor();\r\n      return self;\r\n    };\r\n\r\n    this.getTransitionSpeed = function (dif) {\r\n\r\n      return 80 + (dif / 72) * opt.scrollspeed |0;\r\n\r\n    };\r\n\r\n    if (!opt.smoothscroll) {\r\n      this.doScrollLeft = function (x, spd) { //direct\r\n        var y = self.getScrollTop();\r\n        self.doScrollPos(x, y, spd);\r\n      };\r\n      this.doScrollTop = function (y, spd) { //direct\r\n        var x = self.getScrollLeft();\r\n        self.doScrollPos(x, y, spd);\r\n      };\r\n      this.doScrollPos = function (x, y, spd) { //direct\r\n        var nx = (x > self.page.maxw) ? self.page.maxw : x;\r\n        if (nx < 0) nx = 0;\r\n        var ny = (y > self.page.maxh) ? self.page.maxh : y;\r\n        if (ny < 0) ny = 0;\r\n        self.synched('scroll', function () {\r\n          self.setScrollTop(ny);\r\n          self.setScrollLeft(nx);\r\n        });\r\n      };\r\n      this.cancelScroll = function () { }; // direct\r\n\r\n    } else if (self.ishwscroll && cap.hastransition && opt.usetransition && !!opt.smoothscroll) {\r\n\r\n      var lasttransitionstyle = '';\r\n\r\n      this.resetTransition = function () {\r\n        lasttransitionstyle = '';\r\n        self.doc.css(cap.prefixstyle + 'transition-duration', '0ms');\r\n      };\r\n\r\n      this.prepareTransition = function (dif, istime) {\r\n        var ex = (istime) ? dif : self.getTransitionSpeed(dif);\r\n        var trans = ex + 'ms';\r\n        if (lasttransitionstyle !== trans) {\r\n          lasttransitionstyle = trans;\r\n          self.doc.css(cap.prefixstyle + 'transition-duration', trans);\r\n        }\r\n        return ex;\r\n      };\r\n\r\n      this.doScrollLeft = function (x, spd) { //trans\r\n        var y = (self.scrollrunning) ? self.newscrolly : self.getScrollTop();\r\n        self.doScrollPos(x, y, spd);\r\n      };\r\n\r\n      this.doScrollTop = function (y, spd) { //trans\r\n        var x = (self.scrollrunning) ? self.newscrollx : self.getScrollLeft();\r\n        self.doScrollPos(x, y, spd);\r\n      };\r\n\r\n      this.cursorupdate = {\r\n        running: false,\r\n        start: function () {\r\n          var m = this;\r\n\r\n          if (m.running) return;\r\n          m.running = true;\r\n\r\n          var loop = function () {\r\n            if (m.running) setAnimationFrame(loop);\r\n            self.showCursor(self.getScrollTop(), self.getScrollLeft());\r\n            self.notifyScrollEvent(self.win[0]);\r\n          };\r\n\r\n          setAnimationFrame(loop);\r\n        },\r\n        stop: function () {\r\n          this.running = false;\r\n        }\r\n      };\r\n\r\n      this.doScrollPos = function (x, y, spd) { //trans\r\n\r\n        var py = self.getScrollTop();\r\n        var px = self.getScrollLeft();\r\n\r\n        if (((self.newscrolly - py) * (y - py) < 0) || ((self.newscrollx - px) * (x - px) < 0)) self.cancelScroll(); //inverted movement detection      \r\n\r\n        if (!opt.bouncescroll) {\r\n          if (y < 0) y = 0;\r\n          else if (y > self.page.maxh) y = self.page.maxh;\r\n          if (x < 0) x = 0;\r\n          else if (x > self.page.maxw) x = self.page.maxw;\r\n        } else {\r\n          if (y < 0) y = y / 2 | 0;\r\n          else if (y > self.page.maxh) y = self.page.maxh + (y - self.page.maxh) / 2 | 0;\r\n          if (x < 0) x = x / 2 | 0;\r\n          else if (x > self.page.maxw) x = self.page.maxw + (x - self.page.maxw) / 2 | 0;\r\n        }\r\n\r\n        if (self.scrollrunning && x == self.newscrollx && y == self.newscrolly) return false;\r\n\r\n        self.newscrolly = y;\r\n        self.newscrollx = x;\r\n\r\n        var top = self.getScrollTop();\r\n        var lft = self.getScrollLeft();\r\n\r\n        var dst = {};\r\n        dst.x = x - lft;\r\n        dst.y = y - top;\r\n\r\n        var dd = Math.sqrt((dst.x * dst.x) + (dst.y * dst.y)) | 0;\r\n\r\n        var ms = self.prepareTransition(dd);\r\n\r\n        if (!self.scrollrunning) {\r\n          self.scrollrunning = true;\r\n          self.triggerScrollStart(lft, top, x, y, ms);\r\n          self.cursorupdate.start();\r\n        }\r\n\r\n        self.scrollendtrapped = true;\r\n\r\n        if (!cap.transitionend) {\r\n          if (self.scrollendtrapped) clearTimeout(self.scrollendtrapped);\r\n          self.scrollendtrapped = setTimeout(self.onScrollTransitionEnd, ms); // simulate transitionend event\r\n        }\r\n\r\n        self.setScrollTop(self.newscrolly);\r\n        self.setScrollLeft(self.newscrollx);\r\n\r\n      };\r\n\r\n      this.cancelScroll = function () {\r\n        if (!self.scrollendtrapped) return true;\r\n        var py = self.getScrollTop();\r\n        var px = self.getScrollLeft();\r\n        self.scrollrunning = false;\r\n        if (!cap.transitionend) clearTimeout(cap.transitionend);\r\n        self.scrollendtrapped = false;\r\n        self.resetTransition();\r\n        self.setScrollTop(py); // fire event onscroll\r\n        if (self.railh) self.setScrollLeft(px);\r\n        if (self.timerscroll && self.timerscroll.tm) clearInterval(self.timerscroll.tm);\r\n        self.timerscroll = false;\r\n\r\n        self.cursorfreezed = false;\r\n\r\n        self.cursorupdate.stop();\r\n        self.showCursor(py, px);\r\n        return self;\r\n      };\r\n\r\n      this.onScrollTransitionEnd = function () {\r\n\r\n        if (!self.scrollendtrapped) return;\r\n\r\n        var py = self.getScrollTop();\r\n        var px = self.getScrollLeft();\r\n\r\n        if (py < 0) py = 0;\r\n        else if (py > self.page.maxh) py = self.page.maxh;\r\n        if (px < 0) px = 0;\r\n        else if (px > self.page.maxw) px = self.page.maxw;\r\n        if ((py != self.newscrolly) || (px != self.newscrollx)) return self.doScrollPos(px, py, opt.snapbackspeed);\r\n\r\n        if (self.scrollrunning) self.triggerScrollEnd();\r\n        self.scrollrunning = false;\r\n\r\n        self.scrollendtrapped = false;\r\n        self.resetTransition();\r\n        self.timerscroll = false;\r\n        self.setScrollTop(py); // fire event onscroll        \r\n        if (self.railh) self.setScrollLeft(px); // fire event onscroll left\r\n\r\n        self.cursorupdate.stop();\r\n        self.noticeCursor(false, py, px);\r\n\r\n        self.cursorfreezed = false;\r\n\r\n      };\r\n\r\n    } else {\r\n\r\n      this.doScrollLeft = function (x, spd) { //no-trans\r\n        var y = (self.scrollrunning) ? self.newscrolly : self.getScrollTop();\r\n        self.doScrollPos(x, y, spd);\r\n      };\r\n\r\n      this.doScrollTop = function (y, spd) { //no-trans\r\n        var x = (self.scrollrunning) ? self.newscrollx : self.getScrollLeft();\r\n        self.doScrollPos(x, y, spd);\r\n      };\r\n\r\n      this.doScrollPos = function (x, y, spd) { //no-trans\r\n\r\n        var py = self.getScrollTop();\r\n        var px = self.getScrollLeft();\r\n\r\n        if (((self.newscrolly - py) * (y - py) < 0) || ((self.newscrollx - px) * (x - px) < 0)) self.cancelScroll(); //inverted movement detection\r\n\r\n        var clipped = false;\r\n\r\n        if (!self.bouncescroll || !self.rail.visibility) {\r\n          if (y < 0) {\r\n            y = 0;\r\n            clipped = true;\r\n          } else if (y > self.page.maxh) {\r\n            y = self.page.maxh;\r\n            clipped = true;\r\n          }\r\n        }\r\n        if (!self.bouncescroll || !self.railh.visibility) {\r\n          if (x < 0) {\r\n            x = 0;\r\n            clipped = true;\r\n          } else if (x > self.page.maxw) {\r\n            x = self.page.maxw;\r\n            clipped = true;\r\n          }\r\n        }\r\n\r\n        if (self.scrollrunning && (self.newscrolly === y) && (self.newscrollx === x)) return true;\r\n\r\n        self.newscrolly = y;\r\n        self.newscrollx = x;\r\n\r\n        self.dst = {};\r\n        self.dst.x = x - px;\r\n        self.dst.y = y - py;\r\n        self.dst.px = px;\r\n        self.dst.py = py;\r\n\r\n        var dd = Math.sqrt((self.dst.x * self.dst.x) + (self.dst.y * self.dst.y)) | 0;\r\n        var ms = self.getTransitionSpeed(dd);\r\n\r\n        self.bzscroll = {};\r\n\r\n        var p3 = (clipped) ? 1 : 0.58;\r\n        self.bzscroll.x = new BezierClass(px, self.newscrollx, ms, 0, 0, p3, 1);\r\n        self.bzscroll.y = new BezierClass(py, self.newscrolly, ms, 0, 0, p3, 1);\r\n\r\n        var loopid = now();\r\n\r\n        var loop = function () {\r\n\r\n          if (!self.scrollrunning) return;\r\n          var x = self.bzscroll.y.getPos();\r\n\r\n          self.setScrollLeft(self.bzscroll.x.getNow());\r\n          self.setScrollTop(self.bzscroll.y.getNow());\r\n\r\n          if (x <= 1) {\r\n            self.timer = setAnimationFrame(loop);\r\n          } else {\r\n            self.scrollrunning = false;\r\n            self.timer = 0;\r\n            self.triggerScrollEnd();\r\n          }\r\n\r\n        };\r\n\r\n        if (!self.scrollrunning) {\r\n          self.triggerScrollStart(px, py, x, y, ms);\r\n          self.scrollrunning = true;\r\n          self.timer = setAnimationFrame(loop);\r\n        }\r\n\r\n      };\r\n\r\n      this.cancelScroll = function () {\r\n        if (self.timer) clearAnimationFrame(self.timer);\r\n        self.timer = 0;\r\n        self.bzscroll = false;\r\n        self.scrollrunning = false;\r\n        return self;\r\n      };\r\n\r\n    }\r\n\r\n    this.doScrollBy = function (stp, relative) {\r\n      doScrollRelative(0, stp);\r\n    };\r\n\r\n    this.doScrollLeftBy = function (stp, relative) {\r\n      doScrollRelative(stp, 0);\r\n    };\r\n\r\n    this.doScrollTo = function (pos, relative) {\r\n      var ny = (relative) ? Math.round(pos * self.scrollratio.y) : pos;\r\n      if (ny < 0) ny = 0;\r\n      else if (ny > self.page.maxh) ny = self.page.maxh;\r\n      self.cursorfreezed = false;\r\n      self.doScrollTop(pos);\r\n    };\r\n\r\n    this.checkContentSize = function () {\r\n      var pg = self.getContentSize();\r\n      if ((pg.h != self.page.h) || (pg.w != self.page.w)) self.resize(false, pg);\r\n    };\r\n\r\n    self.onscroll = function (e) {\r\n      if (self.rail.drag) return;\r\n      if (!self.cursorfreezed) {\r\n        self.synched('scroll', function () {\r\n          self.scroll.y = Math.round(self.getScrollTop() / self.scrollratio.y);\r\n          if (self.railh) self.scroll.x = Math.round(self.getScrollLeft() / self.scrollratio.x);\r\n          self.noticeCursor();\r\n        });\r\n      }\r\n    };\r\n    self.bind(self.docscroll, \"scroll\", self.onscroll);\r\n\r\n    this.doZoomIn = function (e) {\r\n      if (self.zoomactive) return;\r\n      self.zoomactive = true;\r\n\r\n      self.zoomrestore = {\r\n        style: {}\r\n      };\r\n      var lst = ['position', 'top', 'left', 'zIndex', 'backgroundColor', 'marginTop', 'marginBottom', 'marginLeft', 'marginRight'];\r\n      var win = self.win[0].style;\r\n      for (var a in lst) {\r\n        var pp = lst[a];\r\n        self.zoomrestore.style[pp] = (win[pp] !== undefined) ? win[pp] : '';\r\n      }\r\n\r\n      self.zoomrestore.style.width = self.win.css('width');\r\n      self.zoomrestore.style.height = self.win.css('height');\r\n\r\n      self.zoomrestore.padding = {\r\n        w: self.win.outerWidth() - self.win.width(),\r\n        h: self.win.outerHeight() - self.win.height()\r\n      };\r\n\r\n      if (cap.isios4) {\r\n        self.zoomrestore.scrollTop = $window.scrollTop();\r\n        $window.scrollTop(0);\r\n      }\r\n\r\n      self.win.css({\r\n        position: (cap.isios4) ? \"absolute\" : \"fixed\",\r\n        top: 0,\r\n        left: 0,\r\n        zIndex: globalmaxzindex + 100,\r\n        margin: 0\r\n      });\r\n      var bkg = self.win.css(\"backgroundColor\");\r\n      if (\"\" === bkg || /transparent|rgba\\(0, 0, 0, 0\\)|rgba\\(0,0,0,0\\)/.test(bkg)) self.win.css(\"backgroundColor\", \"#fff\");\r\n      self.rail.css({\r\n        zIndex: globalmaxzindex + 101\r\n      });\r\n      self.zoom.css({\r\n        zIndex: globalmaxzindex + 102\r\n      });\r\n      self.zoom.css('backgroundPosition', '0 -18px');\r\n      self.resizeZoom();\r\n\r\n      if (self.onzoomin) self.onzoomin.call(self);\r\n\r\n      return self.cancelEvent(e);\r\n    };\r\n\r\n    this.doZoomOut = function (e) {\r\n      if (!self.zoomactive) return;\r\n      self.zoomactive = false;\r\n\r\n      self.win.css(\"margin\", \"\");\r\n      self.win.css(self.zoomrestore.style);\r\n\r\n      if (cap.isios4) {\r\n        $window.scrollTop(self.zoomrestore.scrollTop);\r\n      }\r\n\r\n      self.rail.css({\r\n        \"z-index\": self.zindex\r\n      });\r\n      self.zoom.css({\r\n        \"z-index\": self.zindex\r\n      });\r\n      self.zoomrestore = false;\r\n      self.zoom.css('backgroundPosition', '0 0');\r\n      self.onResize();\r\n\r\n      if (self.onzoomout) self.onzoomout.call(self);\r\n\r\n      return self.cancelEvent(e);\r\n    };\r\n\r\n    this.doZoom = function (e) {\r\n      return (self.zoomactive) ? self.doZoomOut(e) : self.doZoomIn(e);\r\n    };\r\n\r\n    this.resizeZoom = function () {\r\n      if (!self.zoomactive) return;\r\n\r\n      var py = self.getScrollTop(); //preserve scrolling position\r\n      self.win.css({\r\n        width: $window.width() - self.zoomrestore.padding.w + \"px\",\r\n        height: $window.height() - self.zoomrestore.padding.h + \"px\"\r\n      });\r\n      self.onResize();\r\n\r\n      self.setScrollTop(Math.min(self.page.maxh, py));\r\n    };\r\n\r\n    this.init();\r\n\r\n    $.nicescroll.push(this);\r\n\r\n  };\r\n\r\n  // Inspired by the work of Kin Blas\r\n  // http://webpro.host.adobe.com/people/jblas/momentum/includes/jquery.momentum.0.7.js  \r\n  var ScrollMomentumClass2D = function (nc) {\r\n    var self = this;\r\n    this.nc = nc;\r\n\r\n    this.lastx = 0;\r\n    this.lasty = 0;\r\n    this.speedx = 0;\r\n    this.speedy = 0;\r\n    this.lasttime = 0;\r\n    this.steptime = 0;\r\n    this.snapx = false;\r\n    this.snapy = false;\r\n    this.demulx = 0;\r\n    this.demuly = 0;\r\n\r\n    this.lastscrollx = -1;\r\n    this.lastscrolly = -1;\r\n\r\n    this.chkx = 0;\r\n    this.chky = 0;\r\n\r\n    this.timer = 0;\r\n\r\n    this.reset = function (px, py) {\r\n      self.stop();\r\n      self.steptime = 0;\r\n      self.lasttime = now();\r\n      self.speedx = 0;\r\n      self.speedy = 0;\r\n      self.lastx = px;\r\n      self.lasty = py;\r\n      self.lastscrollx = -1;\r\n      self.lastscrolly = -1;\r\n    };\r\n\r\n    this.update = function (px, py) {\r\n      var tm = now();\r\n      self.steptime = tm - self.lasttime;\r\n      self.lasttime = tm;\r\n      var dy = py - self.lasty;\r\n      var dx = px - self.lastx;\r\n      var sy = self.nc.getScrollTop();\r\n      var sx = self.nc.getScrollLeft();\r\n      var newy = sy + dy;\r\n      var newx = sx + dx;\r\n      self.snapx = (newx < 0) || (newx > self.nc.page.maxw);\r\n      self.snapy = (newy < 0) || (newy > self.nc.page.maxh);\r\n      self.speedx = dx;\r\n      self.speedy = dy;\r\n      self.lastx = px;\r\n      self.lasty = py;\r\n    };\r\n\r\n    this.stop = function () {\r\n      self.nc.unsynched(\"domomentum2d\");\r\n      if (self.timer) clearTimeout(self.timer);\r\n      self.timer = 0;\r\n      self.lastscrollx = -1;\r\n      self.lastscrolly = -1;\r\n    };\r\n\r\n    this.doSnapy = function (nx, ny) {\r\n      var snap = false;\r\n\r\n      if (ny < 0) {\r\n        ny = 0;\r\n        snap = true;\r\n      } else if (ny > self.nc.page.maxh) {\r\n        ny = self.nc.page.maxh;\r\n        snap = true;\r\n      }\r\n\r\n      if (nx < 0) {\r\n        nx = 0;\r\n        snap = true;\r\n      } else if (nx > self.nc.page.maxw) {\r\n        nx = self.nc.page.maxw;\r\n        snap = true;\r\n      }\r\n\r\n      (snap) ? self.nc.doScrollPos(nx, ny, self.nc.opt.snapbackspeed) : self.nc.triggerScrollEnd();\r\n    };\r\n\r\n    this.doMomentum = function (gp) {\r\n      var t = now();\r\n      var l = (gp) ? t + gp : self.lasttime;\r\n\r\n      var sl = self.nc.getScrollLeft();\r\n      var st = self.nc.getScrollTop();\r\n\r\n      var pageh = self.nc.page.maxh;\r\n      var pagew = self.nc.page.maxw;\r\n\r\n      self.speedx = (pagew > 0) ? Math.min(60, self.speedx) : 0;\r\n      self.speedy = (pageh > 0) ? Math.min(60, self.speedy) : 0;\r\n\r\n      var chk = l && (t - l) <= 60;\r\n\r\n      if ((st < 0) || (st > pageh) || (sl < 0) || (sl > pagew)) chk = false;\r\n\r\n      var sy = (self.speedy && chk) ? self.speedy : false;\r\n      var sx = (self.speedx && chk) ? self.speedx : false;\r\n\r\n      if (sy || sx) {\r\n        var tm = Math.max(16, self.steptime); //timeout granularity\r\n\r\n        if (tm > 50) { // do smooth\r\n          var xm = tm / 50;\r\n          self.speedx *= xm;\r\n          self.speedy *= xm;\r\n          tm = 50;\r\n        }\r\n\r\n        self.demulxy = 0;\r\n\r\n        self.lastscrollx = self.nc.getScrollLeft();\r\n        self.chkx = self.lastscrollx;\r\n        self.lastscrolly = self.nc.getScrollTop();\r\n        self.chky = self.lastscrolly;\r\n\r\n        var nx = self.lastscrollx;\r\n        var ny = self.lastscrolly;\r\n\r\n        var onscroll = function () {\r\n          var df = ((now() - t) > 600) ? 0.04 : 0.02;\r\n\r\n          if (self.speedx) {\r\n            nx = Math.floor(self.lastscrollx - (self.speedx * (1 - self.demulxy)));\r\n            self.lastscrollx = nx;\r\n            if ((nx < 0) || (nx > pagew)) df = 0.10;\r\n          }\r\n\r\n          if (self.speedy) {\r\n            ny = Math.floor(self.lastscrolly - (self.speedy * (1 - self.demulxy)));\r\n            self.lastscrolly = ny;\r\n            if ((ny < 0) || (ny > pageh)) df = 0.10;\r\n          }\r\n\r\n          self.demulxy = Math.min(1, self.demulxy + df);\r\n\r\n          self.nc.synched(\"domomentum2d\", function () {\r\n\r\n            if (self.speedx) {\r\n              var scx = self.nc.getScrollLeft();\r\n              //              if (scx != self.chkx) self.stop();\r\n              self.chkx = nx;\r\n              self.nc.setScrollLeft(nx);\r\n            }\r\n\r\n            if (self.speedy) {\r\n              var scy = self.nc.getScrollTop();\r\n              //              if (scy != self.chky) self.stop();\r\n              self.chky = ny;\r\n              self.nc.setScrollTop(ny);\r\n            }\r\n\r\n            if (!self.timer) {\r\n              self.nc.hideCursor();\r\n              self.doSnapy(nx, ny);\r\n            }\r\n\r\n          });\r\n\r\n          if (self.demulxy < 1) {\r\n            self.timer = setTimeout(onscroll, tm);\r\n          } else {\r\n            self.stop();\r\n            self.nc.hideCursor();\r\n            self.doSnapy(nx, ny);\r\n          }\r\n        };\r\n\r\n        onscroll();\r\n\r\n      } else {\r\n        self.doSnapy(self.nc.getScrollLeft(), self.nc.getScrollTop());\r\n      }\r\n\r\n    };\r\n\r\n  };\r\n\r\n\r\n  // override jQuery scrollTop\r\n  var _scrollTop = jQuery.fn.scrollTop; // preserve original function\r\n\r\n  jQuery.cssHooks.pageYOffset = {\r\n    get: function (elem, computed, extra) {\r\n      var nice = $.data(elem, '__nicescroll') || false;\r\n      return (nice && nice.ishwscroll) ? nice.getScrollTop() : _scrollTop.call(elem);\r\n    },\r\n    set: function (elem, value) {\r\n      var nice = $.data(elem, '__nicescroll') || false;\r\n      (nice && nice.ishwscroll) ? nice.setScrollTop(parseInt(value)) : _scrollTop.call(elem, value);\r\n      return this;\r\n    }\r\n  };\r\n\r\n  jQuery.fn.scrollTop = function (value) {\r\n    if (value === undefined) {\r\n      var nice = (this[0]) ? $.data(this[0], '__nicescroll') || false : false;\r\n      return (nice && nice.ishwscroll) ? nice.getScrollTop() : _scrollTop.call(this);\r\n    } else {\r\n      return this.each(function () {\r\n        var nice = $.data(this, '__nicescroll') || false;\r\n        (nice && nice.ishwscroll) ? nice.setScrollTop(parseInt(value)) : _scrollTop.call($(this), value);\r\n      });\r\n    }\r\n  };\r\n\r\n  // override jQuery scrollLeft\r\n  var _scrollLeft = jQuery.fn.scrollLeft; // preserve original function\r\n\r\n  $.cssHooks.pageXOffset = {\r\n    get: function (elem, computed, extra) {\r\n      var nice = $.data(elem, '__nicescroll') || false;\r\n      return (nice && nice.ishwscroll) ? nice.getScrollLeft() : _scrollLeft.call(elem);\r\n    },\r\n    set: function (elem, value) {\r\n      var nice = $.data(elem, '__nicescroll') || false;\r\n      (nice && nice.ishwscroll) ? nice.setScrollLeft(parseInt(value)) : _scrollLeft.call(elem, value);\r\n      return this;\r\n    }\r\n  };\r\n\r\n  jQuery.fn.scrollLeft = function (value) {\r\n    if (value === undefined) {\r\n      var nice = (this[0]) ? $.data(this[0], '__nicescroll') || false : false;\r\n      return (nice && nice.ishwscroll) ? nice.getScrollLeft() : _scrollLeft.call(this);\r\n    } else {\r\n      return this.each(function () {\r\n        var nice = $.data(this, '__nicescroll') || false;\r\n        (nice && nice.ishwscroll) ? nice.setScrollLeft(parseInt(value)) : _scrollLeft.call($(this), value);\r\n      });\r\n    }\r\n  };\r\n\r\n  var NiceScrollArray = function (doms) {\r\n    var self = this;\r\n    this.length = 0;\r\n    this.name = \"nicescrollarray\";\r\n\r\n    this.each = function (fn) {\r\n      $.each(self, fn);\r\n      return self;\r\n    };\r\n\r\n    this.push = function (nice) {\r\n      self[self.length] = nice;\r\n      self.length++;\r\n    };\r\n\r\n    this.eq = function (idx) {\r\n      return self[idx];\r\n    };\r\n\r\n    if (doms) {\r\n      for (var a = 0; a < doms.length; a++) {\r\n        var nice = $.data(doms[a], '__nicescroll') || false;\r\n        if (nice) {\r\n          this[this.length] = nice;\r\n          this.length++;\r\n        }\r\n      }\r\n    }\r\n\r\n    return this;\r\n  };\r\n\r\n  function mplex(el, lst, fn) {\r\n    for (var a = 0, l = lst.length; a < l; a++) fn(el, lst[a]);\r\n  }\r\n  mplex(\r\n    NiceScrollArray.prototype, ['show', 'hide', 'toggle', 'onResize', 'resize', 'remove', 'stop', 'doScrollPos'],\r\n    function (e, n) {\r\n      e[n] = function () {\r\n        var args = arguments;\r\n        return this.each(function () {\r\n          this[n].apply(this, args);\r\n        });\r\n      };\r\n    }\r\n  );\r\n\r\n  jQuery.fn.getNiceScroll = function (index) {\r\n    if (index === undefined) {\r\n      return new NiceScrollArray(this);\r\n    } else {\r\n      return this[index] && $.data(this[index], '__nicescroll') || false;\r\n    }\r\n  };\r\n\r\n  var pseudos = jQuery.expr.pseudos || jQuery.expr[':'];  // jQuery 3 migration\r\n  pseudos.nicescroll = function (a) {\r\n    return $.data(a, '__nicescroll') !== undefined;\r\n  };\r\n\r\n  $.fn.niceScroll = function (wrapper, _opt) {\r\n    if (_opt === undefined && typeof wrapper == \"object\" && !(\"jquery\" in wrapper)) {\r\n      _opt = wrapper;\r\n      wrapper = false;\r\n    }\r\n\r\n    var ret = new NiceScrollArray();\r\n\r\n    this.each(function () {\r\n      var $this = $(this);\r\n\r\n      var opt = $.extend({}, _opt); // cloning\r\n\r\n      if (wrapper || false) {\r\n        var wrp = $(wrapper);\r\n        opt.doc = (wrp.length > 1) ? $(wrapper, $this) : wrp;\r\n        opt.win = $this;\r\n      }\r\n      var docundef = !(\"doc\" in opt);\r\n      if (!docundef && !(\"win\" in opt)) opt.win = $this;\r\n\r\n      var nice = $this.data('__nicescroll') || false;\r\n      if (!nice) {\r\n        opt.doc = opt.doc || $this;\r\n        nice = new NiceScrollClass(opt, $this);\r\n        $this.data('__nicescroll', nice);\r\n      }\r\n      ret.push(nice);\r\n    });\r\n\r\n    return (ret.length === 1) ? ret[0] : ret;\r\n  };\r\n\r\n  _win.NiceScroll = {\r\n    getjQuery: function () {\r\n      return jQuery;\r\n    }\r\n  };\r\n\r\n  if (!$.nicescroll) {\r\n    $.nicescroll = new NiceScrollArray();\r\n    $.nicescroll.options = _globaloptions;\r\n  }\r\n\r\n}));\r\n"]}